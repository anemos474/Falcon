"use strict";

var _interopRequireDefault = /*#__PURE__*/require("@babel/runtime/helpers/interopRequireDefault");

exports.__esModule = true;
exports.useSignInMutation = exports.SignInMutation = exports.SIGN_IN = void 0;

var _inheritsLoose2 = /*#__PURE__*/_interopRequireDefault( /*#__PURE__*/require("@babel/runtime/helpers/inheritsLoose"));

var _client = /*#__PURE__*/require("@apollo/client");

var _falconData = /*#__PURE__*/require("@deity/falcon-data");

var _Customer = /*#__PURE__*/require("../Customer");

var SIGN_IN = {
  "kind": "Document",
  "definitions": [{
    "kind": "OperationDefinition",
    "operation": "mutation",
    "name": {
      "kind": "Name",
      "value": "SignIn"
    },
    "variableDefinitions": [{
      "kind": "VariableDefinition",
      "variable": {
        "kind": "Variable",
        "name": {
          "kind": "Name",
          "value": "input"
        }
      },
      "type": {
        "kind": "NonNullType",
        "type": {
          "kind": "NamedType",
          "name": {
            "kind": "Name",
            "value": "SignInInput"
          }
        }
      },
      "directives": []
    }],
    "directives": [],
    "selectionSet": {
      "kind": "SelectionSet",
      "selections": [{
        "kind": "Field",
        "name": {
          "kind": "Name",
          "value": "signIn"
        },
        "arguments": [{
          "kind": "Argument",
          "name": {
            "kind": "Name",
            "value": "input"
          },
          "value": {
            "kind": "Variable",
            "name": {
              "kind": "Name",
              "value": "input"
            }
          }
        }],
        "directives": [],
        "selectionSet": {
          "kind": "SelectionSet",
          "selections": [{
            "kind": "Field",
            "name": {
              "kind": "Name",
              "value": "id"
            },
            "arguments": [],
            "directives": []
          }]
        }
      }]
    }
  }],
  "loc": {
    "start": 0,
    "end": 90,
    "source": {
      "body": "\n  mutation SignIn($input: SignInInput!) {\n    signIn(input: $input) {\n      id\n    }\n  }\n",
      "name": "GraphQL request",
      "locationOffset": {
        "line": 1,
        "column": 1
      }
    }
  }
};
exports.SIGN_IN = SIGN_IN;
var defaultOptions = {
  refetchQueries: ['Cart', 'Customer', 'MiniCart'],
  awaitRefetchQueries: false,
  update: function update(store, _ref) {
    var customer = _ref.data.signIn;
    var data = store.readQuery({
      query: _Customer.GET_IS_AUTHENTICATED
    });
    store.writeQuery({
      query: _Customer.GET_IS_AUTHENTICATED,
      data: Object.assign({}, data, {
        customer: customer
      })
    });
  }
};

var SignInMutation = /*#__PURE__*/function (_Mutation) {
  (0, _inheritsLoose2.default)(SignInMutation, _Mutation);

  function SignInMutation() {
    return _Mutation.apply(this, arguments) || this;
  }

  return SignInMutation;
}(_falconData.Mutation);

exports.SignInMutation = SignInMutation;
SignInMutation.defaultProps = /*#__PURE__*/Object.assign({
  mutation: SIGN_IN
}, defaultOptions);

var useSignInMutation = function useSignInMutation(options) {
  if (options === void 0) {
    options = {};
  }

  return (0, _client.useMutation)(SIGN_IN, Object.assign({}, defaultOptions, options));
};

exports.useSignInMutation = useSignInMutation;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9TaWduSW4vU2lnbkluTXV0YXRpb24udHN4Il0sIm5hbWVzIjpbIlNJR05fSU4iLCJkZWZhdWx0T3B0aW9ucyIsInJlZmV0Y2hRdWVyaWVzIiwiYXdhaXRSZWZldGNoUXVlcmllcyIsInVwZGF0ZSIsInN0b3JlIiwiY3VzdG9tZXIiLCJkYXRhIiwic2lnbkluIiwicmVhZFF1ZXJ5IiwicXVlcnkiLCJHRVRfSVNfQVVUSEVOVElDQVRFRCIsIndyaXRlUXVlcnkiLCJTaWduSW5NdXRhdGlvbiIsIk11dGF0aW9uIiwiZGVmYXVsdFByb3BzIiwibXV0YXRpb24iLCJ1c2VTaWduSW5NdXRhdGlvbiIsIm9wdGlvbnMiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFBOztBQUNBOztBQUVBOztBQUVPLElBQU1BLE9BQU87QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsQ0FBYjs7QUFVUCxJQUFNQyxjQUFjLEdBQUc7QUFDckJDLEVBQUFBLGNBQWMsRUFBRSxDQUFDLE1BQUQsRUFBUyxVQUFULEVBQXFCLFVBQXJCLENBREs7QUFFckJDLEVBQUFBLG1CQUFtQixFQUFFLEtBRkE7QUFHckJDLEVBQUFBLE1BQU0sRUFBRSxnQkFBQ0MsS0FBRCxRQUEyQztBQUFBLFFBQWpCQyxRQUFpQixRQUFqQ0MsSUFBaUMsQ0FBekJDLE1BQXlCO0FBQ2pELFFBQU1ELElBQUksR0FBR0YsS0FBSyxDQUFDSSxTQUFOLENBQWdCO0FBQUVDLE1BQUFBLEtBQUssRUFBRUM7QUFBVCxLQUFoQixDQUFiO0FBQ0FOLElBQUFBLEtBQUssQ0FBQ08sVUFBTixDQUFpQjtBQUFFRixNQUFBQSxLQUFLLEVBQUVDLDhCQUFUO0FBQStCSixNQUFBQSxJQUFJLG9CQUFPQSxJQUFQO0FBQWFELFFBQUFBLFFBQVEsRUFBUkE7QUFBYjtBQUFuQyxLQUFqQjtBQUNEO0FBTm9CLENBQXZCOztJQVNhTyxjOzs7Ozs7OztFQUF1QkMsb0I7OztBQUF2QkQsYyxDQUNKRSxZO0FBQ0xDLEVBQUFBLFFBQVEsRUFBRWhCO0dBQ1BDLGM7O0FBSUEsSUFBTWdCLGlCQUFpQixHQUFHLFNBQXBCQSxpQkFBb0IsQ0FBQ0MsT0FBRDtBQUFBLE1BQUNBLE9BQUQ7QUFBQ0EsSUFBQUEsT0FBRCxHQUE2RSxFQUE3RTtBQUFBOztBQUFBLFNBQy9CLHlCQUFZbEIsT0FBWixvQkFDS0MsY0FETCxFQUVLaUIsT0FGTCxFQUQrQjtBQUFBLENBQTFCIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZ3FsLCB1c2VNdXRhdGlvbiwgTXV0YXRpb25Ib29rT3B0aW9ucyB9IGZyb20gJ0BhcG9sbG8vY2xpZW50JztcbmltcG9ydCB7IE11dGF0aW9uLCBPcGVyYXRpb25JbnB1dCB9IGZyb20gJ0BkZWl0eS9mYWxjb24tZGF0YSc7XG5pbXBvcnQgeyBTaWduSW5JbnB1dCwgQ3VzdG9tZXIgfSBmcm9tICdAZGVpdHkvZmFsY29uLXNob3AtZXh0ZW5zaW9uJztcbmltcG9ydCB7IEdFVF9JU19BVVRIRU5USUNBVEVEIH0gZnJvbSAnLi4vQ3VzdG9tZXInO1xuXG5leHBvcnQgY29uc3QgU0lHTl9JTiA9IGdxbGBcbiAgbXV0YXRpb24gU2lnbkluKCRpbnB1dDogU2lnbkluSW5wdXQhKSB7XG4gICAgc2lnbkluKGlucHV0OiAkaW5wdXQpIHtcbiAgICAgIGlkXG4gICAgfVxuICB9XG5gO1xuXG5leHBvcnQgdHlwZSBTaWduSW5SZXNwb25zZSA9IHsgc2lnbkluOiBQaWNrPEN1c3RvbWVyLCAnaWQnPiB9O1xuXG5jb25zdCBkZWZhdWx0T3B0aW9ucyA9IHtcbiAgcmVmZXRjaFF1ZXJpZXM6IFsnQ2FydCcsICdDdXN0b21lcicsICdNaW5pQ2FydCddLFxuICBhd2FpdFJlZmV0Y2hRdWVyaWVzOiBmYWxzZSxcbiAgdXBkYXRlOiAoc3RvcmUsIHsgZGF0YTogeyBzaWduSW46IGN1c3RvbWVyIH0gfSkgPT4ge1xuICAgIGNvbnN0IGRhdGEgPSBzdG9yZS5yZWFkUXVlcnkoeyBxdWVyeTogR0VUX0lTX0FVVEhFTlRJQ0FURUQgfSk7XG4gICAgc3RvcmUud3JpdGVRdWVyeSh7IHF1ZXJ5OiBHRVRfSVNfQVVUSEVOVElDQVRFRCwgZGF0YTogeyAuLi5kYXRhLCBjdXN0b21lciB9IH0pO1xuICB9XG59O1xuXG5leHBvcnQgY2xhc3MgU2lnbkluTXV0YXRpb24gZXh0ZW5kcyBNdXRhdGlvbjxTaWduSW5SZXNwb25zZSwgT3BlcmF0aW9uSW5wdXQ8U2lnbkluSW5wdXQ+PiB7XG4gIHN0YXRpYyBkZWZhdWx0UHJvcHMgPSB7XG4gICAgbXV0YXRpb246IFNJR05fSU4sXG4gICAgLi4uZGVmYXVsdE9wdGlvbnNcbiAgfTtcbn1cblxuZXhwb3J0IGNvbnN0IHVzZVNpZ25Jbk11dGF0aW9uID0gKG9wdGlvbnM6IE11dGF0aW9uSG9va09wdGlvbnM8U2lnbkluUmVzcG9uc2UsIE9wZXJhdGlvbklucHV0PFNpZ25JbklucHV0Pj4gPSB7fSkgPT5cbiAgdXNlTXV0YXRpb24oU0lHTl9JTiwge1xuICAgIC4uLmRlZmF1bHRPcHRpb25zLFxuICAgIC4uLm9wdGlvbnNcbiAgfSk7XG4iXX0=