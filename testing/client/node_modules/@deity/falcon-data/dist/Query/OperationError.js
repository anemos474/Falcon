"use strict";

var _interopRequireDefault = /*#__PURE__*/require("@babel/runtime/helpers/interopRequireDefault");

exports.__esModule = true;
exports.OperationError = void 0;

var _objectWithoutPropertiesLoose2 = /*#__PURE__*/_interopRequireDefault( /*#__PURE__*/require("@babel/runtime/helpers/objectWithoutPropertiesLoose"));

var _react = /*#__PURE__*/_interopRequireDefault( /*#__PURE__*/require("react"));

var _Error = /*#__PURE__*/require("../Error");

var OperationError = function OperationError(props) {
  var getUserError = (0, _Error.useGetUserError)();

  var errorInsights = function errorInsights(_ref) {
    var message = _ref.message,
        rest = (0, _objectWithoutPropertiesLoose2.default)(_ref, ["message"]);

    if (process.env.NODE_ENV !== 'production') {
      return JSON.stringify(Object.assign({}, rest), null, 2);
    }

    return '';
  };

  var userErrors = getUserError(props);

  if (userErrors.length === 0) {
    return null;
  }

  return userErrors.length <= 1 ? /*#__PURE__*/_react.default.createElement("p", {
    title: errorInsights(userErrors[0]),
    className: "error"
  }, userErrors[0].message) : /*#__PURE__*/_react.default.createElement("ul", {
    className: "error"
  }, userErrors.map(function (error) {
    return /*#__PURE__*/_react.default.createElement("li", {
      key: error.message,
      title: errorInsights(error)
    }, error.message);
  }));
};

exports.OperationError = OperationError;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9RdWVyeS9PcGVyYXRpb25FcnJvci50c3giXSwibmFtZXMiOlsiT3BlcmF0aW9uRXJyb3IiLCJwcm9wcyIsImdldFVzZXJFcnJvciIsImVycm9ySW5zaWdodHMiLCJtZXNzYWdlIiwicmVzdCIsInByb2Nlc3MiLCJlbnYiLCJOT0RFX0VOViIsIkpTT04iLCJzdHJpbmdpZnkiLCJ1c2VyRXJyb3JzIiwibGVuZ3RoIiwibWFwIiwiZXJyb3IiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFBOztBQUVBOztBQUdPLElBQU1BLGNBQThDLEdBQUcsU0FBakRBLGNBQWlELENBQUFDLEtBQUssRUFBSTtBQUNyRSxNQUFNQyxZQUFZLEdBQUcsNkJBQXJCOztBQUVBLE1BQU1DLGFBQWEsR0FBRyxTQUFoQkEsYUFBZ0IsT0FBc0M7QUFBQSxRQUFuQ0MsT0FBbUMsUUFBbkNBLE9BQW1DO0FBQUEsUUFBdkJDLElBQXVCOztBQUMxRCxRQUFJQyxPQUFPLENBQUNDLEdBQVIsQ0FBWUMsUUFBWixLQUF5QixZQUE3QixFQUEyQztBQUN6QyxhQUFPQyxJQUFJLENBQUNDLFNBQUwsbUJBQW9CTCxJQUFwQixHQUE0QixJQUE1QixFQUFrQyxDQUFsQyxDQUFQO0FBQ0Q7O0FBQ0QsV0FBTyxFQUFQO0FBQ0QsR0FMRDs7QUFPQSxNQUFNTSxVQUFVLEdBQUdULFlBQVksQ0FBQ0QsS0FBRCxDQUEvQjs7QUFFQSxNQUFJVSxVQUFVLENBQUNDLE1BQVgsS0FBc0IsQ0FBMUIsRUFBNkI7QUFDM0IsV0FBTyxJQUFQO0FBQ0Q7O0FBRUQsU0FBT0QsVUFBVSxDQUFDQyxNQUFYLElBQXFCLENBQXJCLGdCQUNMO0FBQUcsSUFBQSxLQUFLLEVBQUVULGFBQWEsQ0FBQ1EsVUFBVSxDQUFDLENBQUQsQ0FBWCxDQUF2QjtBQUF3QyxJQUFBLFNBQVMsRUFBQztBQUFsRCxLQUNHQSxVQUFVLENBQUMsQ0FBRCxDQUFWLENBQWNQLE9BRGpCLENBREssZ0JBS0w7QUFBSSxJQUFBLFNBQVMsRUFBQztBQUFkLEtBQ0dPLFVBQVUsQ0FBQ0UsR0FBWCxDQUFlLFVBQUFDLEtBQUssRUFBSTtBQUN2Qix3QkFDRTtBQUFJLE1BQUEsR0FBRyxFQUFFQSxLQUFLLENBQUNWLE9BQWY7QUFBd0IsTUFBQSxLQUFLLEVBQUVELGFBQWEsQ0FBQ1csS0FBRDtBQUE1QyxPQUNHQSxLQUFLLENBQUNWLE9BRFQsQ0FERjtBQUtELEdBTkEsQ0FESCxDQUxGO0FBZUQsQ0EvQk0iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgQXBvbGxvRXJyb3IgfSBmcm9tICdAYXBvbGxvL2NsaWVudCc7XG5pbXBvcnQgeyBFcnJvck1vZGVsLCB1c2VHZXRVc2VyRXJyb3IgfSBmcm9tICcuLi9FcnJvcic7XG5cbmV4cG9ydCB0eXBlIE9wZXJhdGlvbkVycm9yUHJvcHMgPSBBcG9sbG9FcnJvcjtcbmV4cG9ydCBjb25zdCBPcGVyYXRpb25FcnJvcjogUmVhY3QuU0ZDPE9wZXJhdGlvbkVycm9yUHJvcHM+ID0gcHJvcHMgPT4ge1xuICBjb25zdCBnZXRVc2VyRXJyb3IgPSB1c2VHZXRVc2VyRXJyb3IoKTtcblxuICBjb25zdCBlcnJvckluc2lnaHRzID0gKHsgbWVzc2FnZSwgLi4ucmVzdCB9OiBFcnJvck1vZGVsKSA9PiB7XG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeSh7IC4uLnJlc3QgfSwgbnVsbCwgMik7XG4gICAgfVxuICAgIHJldHVybiAnJztcbiAgfTtcblxuICBjb25zdCB1c2VyRXJyb3JzID0gZ2V0VXNlckVycm9yKHByb3BzKTtcblxuICBpZiAodXNlckVycm9ycy5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIHJldHVybiB1c2VyRXJyb3JzLmxlbmd0aCA8PSAxID8gKFxuICAgIDxwIHRpdGxlPXtlcnJvckluc2lnaHRzKHVzZXJFcnJvcnNbMF0pfSBjbGFzc05hbWU9XCJlcnJvclwiPlxuICAgICAge3VzZXJFcnJvcnNbMF0ubWVzc2FnZX1cbiAgICA8L3A+XG4gICkgOiAoXG4gICAgPHVsIGNsYXNzTmFtZT1cImVycm9yXCI+XG4gICAgICB7dXNlckVycm9ycy5tYXAoZXJyb3IgPT4ge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIDxsaSBrZXk9e2Vycm9yLm1lc3NhZ2V9IHRpdGxlPXtlcnJvckluc2lnaHRzKGVycm9yKX0+XG4gICAgICAgICAgICB7ZXJyb3IubWVzc2FnZX1cbiAgICAgICAgICA8L2xpPlxuICAgICAgICApO1xuICAgICAgfSl9XG4gICAgPC91bD5cbiAgKTtcbn07XG4iXX0=