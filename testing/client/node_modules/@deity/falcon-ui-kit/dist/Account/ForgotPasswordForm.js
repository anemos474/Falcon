"use strict";

var _interopRequireDefault = /*#__PURE__*/require("@babel/runtime/helpers/interopRequireDefault");

exports.__esModule = true;
exports.ForgotPasswordForm = void 0;

var _extends2 = /*#__PURE__*/_interopRequireDefault( /*#__PURE__*/require("@babel/runtime/helpers/extends"));

var _objectWithoutPropertiesLoose2 = /*#__PURE__*/_interopRequireDefault( /*#__PURE__*/require("@babel/runtime/helpers/objectWithoutPropertiesLoose"));

var _react = /*#__PURE__*/_interopRequireDefault( /*#__PURE__*/require("react"));

var _falconI18n = /*#__PURE__*/require("@deity/falcon-i18n");

var _falconUi = /*#__PURE__*/require("@deity/falcon-ui");

var _falconFrontKit = /*#__PURE__*/require("@deity/falcon-front-kit");

var _Error = /*#__PURE__*/require("../Error");

var _Forms = /*#__PURE__*/require("../Forms");

var ForgotPasswordForm = function ForgotPasswordForm(_ref) {
  var onSuccess = _ref.onSuccess,
      formProps = (0, _objectWithoutPropertiesLoose2.default)(_ref, ["onSuccess"]);
  return /*#__PURE__*/_react.default.createElement(_falconFrontKit.ForgotPasswordFormProvider, {
    onSuccess: onSuccess
  }, function (_ref2) {
    var isSubmitting = _ref2.isSubmitting,
        status = _ref2.status,
        values = _ref2.values,
        submitCount = _ref2.submitCount,
        isValid = _ref2.isValid;
    var submitSucceed = isValid && !isSubmitting && submitCount > 0 && !status.error;
    return /*#__PURE__*/_react.default.createElement(_Forms.Form, (0, _extends2.default)({
      id: "forgot-password",
      i18nId: "forgotPassword"
    }, formProps), /*#__PURE__*/_react.default.createElement(_Forms.FormField, {
      name: "email",
      required: true,
      type: "email",
      autoComplete: "email"
    }), /*#__PURE__*/_react.default.createElement(_Forms.FormSubmit, null), /*#__PURE__*/_react.default.createElement(_Error.ErrorSummary, {
      errors: status.error
    }), submitSucceed && /*#__PURE__*/_react.default.createElement(_falconUi.Text, {
      mt: "md",
      fontSize: "md"
    }, /*#__PURE__*/_react.default.createElement(_falconI18n.T, {
      id: "forgotPassword.successMessage",
      email: values.email
    })));
  });
};

exports.ForgotPasswordForm = ForgotPasswordForm;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9BY2NvdW50L0ZvcmdvdFBhc3N3b3JkRm9ybS50c3giXSwibmFtZXMiOlsiRm9yZ290UGFzc3dvcmRGb3JtIiwib25TdWNjZXNzIiwiZm9ybVByb3BzIiwiaXNTdWJtaXR0aW5nIiwic3RhdHVzIiwidmFsdWVzIiwic3VibWl0Q291bnQiLCJpc1ZhbGlkIiwic3VibWl0U3VjY2VlZCIsImVycm9yIiwiZW1haWwiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQUE7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBS08sSUFBTUEsa0JBQXNELEdBQUcsU0FBekRBLGtCQUF5RDtBQUFBLE1BQUdDLFNBQUgsUUFBR0EsU0FBSDtBQUFBLE1BQWlCQyxTQUFqQjtBQUFBLHNCQUNwRSw2QkFBQywwQ0FBRDtBQUE0QixJQUFBLFNBQVMsRUFBRUQ7QUFBdkMsS0FDRyxpQkFBNEQ7QUFBQSxRQUF6REUsWUFBeUQsU0FBekRBLFlBQXlEO0FBQUEsUUFBM0NDLE1BQTJDLFNBQTNDQSxNQUEyQztBQUFBLFFBQW5DQyxNQUFtQyxTQUFuQ0EsTUFBbUM7QUFBQSxRQUEzQkMsV0FBMkIsU0FBM0JBLFdBQTJCO0FBQUEsUUFBZEMsT0FBYyxTQUFkQSxPQUFjO0FBQzNELFFBQU1DLGFBQWEsR0FBR0QsT0FBTyxJQUFJLENBQUNKLFlBQVosSUFBNEJHLFdBQVcsR0FBRyxDQUExQyxJQUErQyxDQUFDRixNQUFNLENBQUNLLEtBQTdFO0FBRUEsd0JBQ0UsNkJBQUMsV0FBRDtBQUFNLE1BQUEsRUFBRSxFQUFDLGlCQUFUO0FBQTJCLE1BQUEsTUFBTSxFQUFDO0FBQWxDLE9BQXVEUCxTQUF2RCxnQkFDRSw2QkFBQyxnQkFBRDtBQUFXLE1BQUEsSUFBSSxFQUFDLE9BQWhCO0FBQXdCLE1BQUEsUUFBUSxNQUFoQztBQUFpQyxNQUFBLElBQUksRUFBQyxPQUF0QztBQUE4QyxNQUFBLFlBQVksRUFBQztBQUEzRCxNQURGLGVBRUUsNkJBQUMsaUJBQUQsT0FGRixlQUdFLDZCQUFDLG1CQUFEO0FBQWMsTUFBQSxNQUFNLEVBQUVFLE1BQU0sQ0FBQ0s7QUFBN0IsTUFIRixFQUtHRCxhQUFhLGlCQUNaLDZCQUFDLGNBQUQ7QUFBTSxNQUFBLEVBQUUsRUFBQyxJQUFUO0FBQWMsTUFBQSxRQUFRLEVBQUM7QUFBdkIsb0JBQ0UsNkJBQUMsYUFBRDtBQUFHLE1BQUEsRUFBRSxFQUFDLCtCQUFOO0FBQXNDLE1BQUEsS0FBSyxFQUFFSCxNQUFNLENBQUNLO0FBQXBELE1BREYsQ0FOSixDQURGO0FBYUQsR0FqQkgsQ0FEb0U7QUFBQSxDQUEvRCIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBUIH0gZnJvbSAnQGRlaXR5L2ZhbGNvbi1pMThuJztcbmltcG9ydCB7IFRleHQgfSBmcm9tICdAZGVpdHkvZmFsY29uLXVpJztcbmltcG9ydCB7IEZvcmdvdFBhc3N3b3JkRm9ybVByb3ZpZGVyIH0gZnJvbSAnQGRlaXR5L2ZhbGNvbi1mcm9udC1raXQnO1xuaW1wb3J0IHsgRXJyb3JTdW1tYXJ5IH0gZnJvbSAnLi4vRXJyb3InO1xuaW1wb3J0IHsgRm9ybUZpZWxkLCBGb3JtLCBGb3JtU3VibWl0LCBGb3JtUHJvcHMgfSBmcm9tICcuLi9Gb3Jtcyc7XG5cbmV4cG9ydCB0eXBlIEZvcmdldFBhc3N3b3JkRm9ybVByb3BzID0gUGFydGlhbDxGb3JtUHJvcHM+ICYge1xuICBvblN1Y2Nlc3M/OiAoKSA9PiB2b2lkO1xufTtcbmV4cG9ydCBjb25zdCBGb3Jnb3RQYXNzd29yZEZvcm06IFJlYWN0LlNGQzxGb3JnZXRQYXNzd29yZEZvcm1Qcm9wcz4gPSAoeyBvblN1Y2Nlc3MsIC4uLmZvcm1Qcm9wcyB9KSA9PiAoXG4gIDxGb3Jnb3RQYXNzd29yZEZvcm1Qcm92aWRlciBvblN1Y2Nlc3M9e29uU3VjY2Vzc30+XG4gICAgeyh7IGlzU3VibWl0dGluZywgc3RhdHVzLCB2YWx1ZXMsIHN1Ym1pdENvdW50LCBpc1ZhbGlkIH0pID0+IHtcbiAgICAgIGNvbnN0IHN1Ym1pdFN1Y2NlZWQgPSBpc1ZhbGlkICYmICFpc1N1Ym1pdHRpbmcgJiYgc3VibWl0Q291bnQgPiAwICYmICFzdGF0dXMuZXJyb3I7XG5cbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxGb3JtIGlkPVwiZm9yZ290LXBhc3N3b3JkXCIgaTE4bklkPVwiZm9yZ290UGFzc3dvcmRcIiB7Li4uZm9ybVByb3BzfT5cbiAgICAgICAgICA8Rm9ybUZpZWxkIG5hbWU9XCJlbWFpbFwiIHJlcXVpcmVkIHR5cGU9XCJlbWFpbFwiIGF1dG9Db21wbGV0ZT1cImVtYWlsXCIgLz5cbiAgICAgICAgICA8Rm9ybVN1Ym1pdCAvPlxuICAgICAgICAgIDxFcnJvclN1bW1hcnkgZXJyb3JzPXtzdGF0dXMuZXJyb3J9IC8+XG5cbiAgICAgICAgICB7c3VibWl0U3VjY2VlZCAmJiAoXG4gICAgICAgICAgICA8VGV4dCBtdD1cIm1kXCIgZm9udFNpemU9XCJtZFwiPlxuICAgICAgICAgICAgICA8VCBpZD1cImZvcmdvdFBhc3N3b3JkLnN1Y2Nlc3NNZXNzYWdlXCIgZW1haWw9e3ZhbHVlcy5lbWFpbH0gLz5cbiAgICAgICAgICAgIDwvVGV4dD5cbiAgICAgICAgICApfVxuICAgICAgICA8L0Zvcm0+XG4gICAgICApO1xuICAgIH19XG4gIDwvRm9yZ290UGFzc3dvcmRGb3JtUHJvdmlkZXI+XG4pO1xuIl19