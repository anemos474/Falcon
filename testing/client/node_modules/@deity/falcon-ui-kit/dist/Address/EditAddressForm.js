"use strict";

var _interopRequireDefault = /*#__PURE__*/require("@babel/runtime/helpers/interopRequireDefault");

exports.__esModule = true;
exports.EditAddressForm = void 0;

var _extends2 = /*#__PURE__*/_interopRequireDefault( /*#__PURE__*/require("@babel/runtime/helpers/extends"));

var _objectWithoutPropertiesLoose2 = /*#__PURE__*/_interopRequireDefault( /*#__PURE__*/require("@babel/runtime/helpers/objectWithoutPropertiesLoose"));

var _react = /*#__PURE__*/_interopRequireDefault( /*#__PURE__*/require("react"));

var _falconFrontKit = /*#__PURE__*/require("@deity/falcon-front-kit");

var _falconUi = /*#__PURE__*/require("@deity/falcon-ui");

var _falconI18n = /*#__PURE__*/require("@deity/falcon-i18n");

var _falconShopData = /*#__PURE__*/require("@deity/falcon-shop-data");

var _Forms = /*#__PURE__*/require("../Forms");

var _Error = /*#__PURE__*/require("../Error");

var _AddressFormFields = /*#__PURE__*/require("./AddressFormFields");

var EditAddressForm = function EditAddressForm(_ref) {
  var id = _ref.id,
      onSuccess = _ref.onSuccess,
      onCancel = _ref.onCancel,
      formProps = (0, _objectWithoutPropertiesLoose2.default)(_ref, ["id", "onSuccess", "onCancel"]);
  return /*#__PURE__*/_react.default.createElement(_falconShopData.AddressQuery, {
    variables: {
      id: id
    }
  }, function (_ref2) {
    var address = _ref2.data.address;
    return /*#__PURE__*/_react.default.createElement(_falconFrontKit.EditAddressFormProvider, {
      address: address,
      onSuccess: onSuccess
    }, function (_ref3) {
      var isSubmitting = _ref3.isSubmitting,
          status = _ref3.status;
      return /*#__PURE__*/_react.default.createElement(_Forms.Form, (0, _extends2.default)({
        id: "edit-address",
        i18nId: "addressForm"
      }, formProps), /*#__PURE__*/_react.default.createElement(_AddressFormFields.AddressFormFields, {
        twoColumns: true,
        askDefault: true
      }), /*#__PURE__*/_react.default.createElement(_falconUi.FlexLayout, {
        justifyContent: "flex-end",
        alignItems: "center",
        mt: "md"
      }, /*#__PURE__*/_react.default.createElement(_falconUi.Button, {
        onClick: onCancel,
        mr: "md"
      }, /*#__PURE__*/_react.default.createElement(_falconI18n.T, {
        id: "editAddress.cancelButton"
      })), /*#__PURE__*/_react.default.createElement(_falconUi.Button, {
        type: "submit",
        variant: isSubmitting ? 'loader' : undefined
      }, /*#__PURE__*/_react.default.createElement(_falconI18n.T, {
        id: "editAddress.submitButton"
      }))), /*#__PURE__*/_react.default.createElement(_Error.ErrorSummary, {
        errors: status.error
      }));
    });
  });
};

exports.EditAddressForm = EditAddressForm;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9BZGRyZXNzL0VkaXRBZGRyZXNzRm9ybS50c3giXSwibmFtZXMiOlsiRWRpdEFkZHJlc3NGb3JtIiwiaWQiLCJvblN1Y2Nlc3MiLCJvbkNhbmNlbCIsImZvcm1Qcm9wcyIsImFkZHJlc3MiLCJkYXRhIiwiaXNTdWJtaXR0aW5nIiwic3RhdHVzIiwidW5kZWZpbmVkIiwiZXJyb3IiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQUE7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBUU8sSUFBTUEsZUFBZ0QsR0FBRyxTQUFuREEsZUFBbUQ7QUFBQSxNQUFHQyxFQUFILFFBQUdBLEVBQUg7QUFBQSxNQUFPQyxTQUFQLFFBQU9BLFNBQVA7QUFBQSxNQUFrQkMsUUFBbEIsUUFBa0JBLFFBQWxCO0FBQUEsTUFBK0JDLFNBQS9CO0FBQUEsc0JBQzlELDZCQUFDLDRCQUFEO0FBQWMsSUFBQSxTQUFTLEVBQUU7QUFBRUgsTUFBQUEsRUFBRSxFQUFGQTtBQUFGO0FBQXpCLEtBQ0c7QUFBQSxRQUFXSSxPQUFYLFNBQUdDLElBQUgsQ0FBV0QsT0FBWDtBQUFBLHdCQUNDLDZCQUFDLHVDQUFEO0FBQXlCLE1BQUEsT0FBTyxFQUFFQSxPQUFsQztBQUEyQyxNQUFBLFNBQVMsRUFBRUg7QUFBdEQsT0FDRztBQUFBLFVBQUdLLFlBQUgsU0FBR0EsWUFBSDtBQUFBLFVBQWlCQyxNQUFqQixTQUFpQkEsTUFBakI7QUFBQSwwQkFDQyw2QkFBQyxXQUFEO0FBQU0sUUFBQSxFQUFFLEVBQUMsY0FBVDtBQUF3QixRQUFBLE1BQU0sRUFBQztBQUEvQixTQUFpREosU0FBakQsZ0JBQ0UsNkJBQUMsb0NBQUQ7QUFBbUIsUUFBQSxVQUFVLE1BQTdCO0FBQThCLFFBQUEsVUFBVTtBQUF4QyxRQURGLGVBRUUsNkJBQUMsb0JBQUQ7QUFBWSxRQUFBLGNBQWMsRUFBQyxVQUEzQjtBQUFzQyxRQUFBLFVBQVUsRUFBQyxRQUFqRDtBQUEwRCxRQUFBLEVBQUUsRUFBQztBQUE3RCxzQkFDRSw2QkFBQyxnQkFBRDtBQUFRLFFBQUEsT0FBTyxFQUFFRCxRQUFqQjtBQUEyQixRQUFBLEVBQUUsRUFBQztBQUE5QixzQkFDRSw2QkFBQyxhQUFEO0FBQUcsUUFBQSxFQUFFLEVBQUM7QUFBTixRQURGLENBREYsZUFJRSw2QkFBQyxnQkFBRDtBQUFRLFFBQUEsSUFBSSxFQUFDLFFBQWI7QUFBc0IsUUFBQSxPQUFPLEVBQUVJLFlBQVksR0FBRyxRQUFILEdBQWNFO0FBQXpELHNCQUNFLDZCQUFDLGFBQUQ7QUFBRyxRQUFBLEVBQUUsRUFBQztBQUFOLFFBREYsQ0FKRixDQUZGLGVBVUUsNkJBQUMsbUJBQUQ7QUFBYyxRQUFBLE1BQU0sRUFBRUQsTUFBTSxDQUFDRTtBQUE3QixRQVZGLENBREQ7QUFBQSxLQURILENBREQ7QUFBQSxHQURILENBRDhEO0FBQUEsQ0FBekQiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgRWRpdEFkZHJlc3NGb3JtUHJvdmlkZXIgfSBmcm9tICdAZGVpdHkvZmFsY29uLWZyb250LWtpdCc7XG5pbXBvcnQgeyBCdXR0b24sIEZsZXhMYXlvdXQgfSBmcm9tICdAZGVpdHkvZmFsY29uLXVpJztcbmltcG9ydCB7IFQgfSBmcm9tICdAZGVpdHkvZmFsY29uLWkxOG4nO1xuaW1wb3J0IHsgQWRkcmVzc1F1ZXJ5IH0gZnJvbSAnQGRlaXR5L2ZhbGNvbi1zaG9wLWRhdGEnO1xuaW1wb3J0IHsgRm9ybSwgRm9ybVByb3BzIH0gZnJvbSAnLi4vRm9ybXMnO1xuaW1wb3J0IHsgRXJyb3JTdW1tYXJ5IH0gZnJvbSAnLi4vRXJyb3InO1xuaW1wb3J0IHsgQWRkcmVzc0Zvcm1GaWVsZHMgfSBmcm9tICcuL0FkZHJlc3NGb3JtRmllbGRzJztcblxuZXhwb3J0IHR5cGUgRWRpdEFkZHJlc3NGb3JtUHJvcHMgPSBQYXJ0aWFsPEZvcm1Qcm9wcz4gJiB7XG4gIGlkOiBudW1iZXI7XG4gIG9uU3VjY2Vzcz86ICgpID0+IFByb21pc2U8dm9pZD47XG4gIG9uQ2FuY2VsPzogKCkgPT4gUHJvbWlzZTx2b2lkPjtcbn07XG5cbmV4cG9ydCBjb25zdCBFZGl0QWRkcmVzc0Zvcm06IFJlYWN0LlNGQzxFZGl0QWRkcmVzc0Zvcm1Qcm9wcz4gPSAoeyBpZCwgb25TdWNjZXNzLCBvbkNhbmNlbCwgLi4uZm9ybVByb3BzIH0pID0+IChcbiAgPEFkZHJlc3NRdWVyeSB2YXJpYWJsZXM9e3sgaWQgfX0+XG4gICAgeyh7IGRhdGE6IHsgYWRkcmVzcyB9IH0pID0+IChcbiAgICAgIDxFZGl0QWRkcmVzc0Zvcm1Qcm92aWRlciBhZGRyZXNzPXthZGRyZXNzfSBvblN1Y2Nlc3M9e29uU3VjY2Vzc30+XG4gICAgICAgIHsoeyBpc1N1Ym1pdHRpbmcsIHN0YXR1cyB9KSA9PiAoXG4gICAgICAgICAgPEZvcm0gaWQ9XCJlZGl0LWFkZHJlc3NcIiBpMThuSWQ9XCJhZGRyZXNzRm9ybVwiIHsuLi5mb3JtUHJvcHN9PlxuICAgICAgICAgICAgPEFkZHJlc3NGb3JtRmllbGRzIHR3b0NvbHVtbnMgYXNrRGVmYXVsdCAvPlxuICAgICAgICAgICAgPEZsZXhMYXlvdXQganVzdGlmeUNvbnRlbnQ9XCJmbGV4LWVuZFwiIGFsaWduSXRlbXM9XCJjZW50ZXJcIiBtdD1cIm1kXCI+XG4gICAgICAgICAgICAgIDxCdXR0b24gb25DbGljaz17b25DYW5jZWx9IG1yPVwibWRcIj5cbiAgICAgICAgICAgICAgICA8VCBpZD1cImVkaXRBZGRyZXNzLmNhbmNlbEJ1dHRvblwiIC8+XG4gICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICA8QnV0dG9uIHR5cGU9XCJzdWJtaXRcIiB2YXJpYW50PXtpc1N1Ym1pdHRpbmcgPyAnbG9hZGVyJyA6IHVuZGVmaW5lZH0+XG4gICAgICAgICAgICAgICAgPFQgaWQ9XCJlZGl0QWRkcmVzcy5zdWJtaXRCdXR0b25cIiAvPlxuICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgIDwvRmxleExheW91dD5cbiAgICAgICAgICAgIDxFcnJvclN1bW1hcnkgZXJyb3JzPXtzdGF0dXMuZXJyb3J9IC8+XG4gICAgICAgICAgPC9Gb3JtPlxuICAgICAgICApfVxuICAgICAgPC9FZGl0QWRkcmVzc0Zvcm1Qcm92aWRlcj5cbiAgICApfVxuICA8L0FkZHJlc3NRdWVyeT5cbik7XG4iXX0=