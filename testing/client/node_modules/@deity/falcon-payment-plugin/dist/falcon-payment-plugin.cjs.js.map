{"version":3,"file":"falcon-payment-plugin.cjs.js","sources":["../src/PaymentPlugin.tsx","../src/SimplePayment.tsx","../src/TestAdditionalPaymentStep.tsx"],"sourcesContent":["import React from 'react';\nimport { PaymentPluginComponentProps } from './types';\n\nexport class PaymentPluginModel<\n  P extends PaymentPluginComponentProps = PaymentPluginComponentProps,\n  S = {}\n> extends React.Component<P, S> {\n  static icon?: string;\n}\n","import React from 'react';\nimport { PaymentPluginModel } from './PaymentPlugin';\n\nexport class SimplePayment extends PaymentPluginModel {\n  componentDidMount() {\n    this.props.onPaymentDetailsReady();\n  }\n\n  render() {\n    return this.props.children ? this.props.children : null;\n  }\n}\n","import React from 'react';\n\nexport type TestAdditionalPaymentStepProps = {\n  url: string;\n  method?: string;\n  fields?: Test3dSecurePropsField[];\n};\n\nexport type Test3dSecurePropsField = {\n  name: string;\n  value: string;\n};\n\nexport class TestAdditionalPaymentStep extends React.Component<TestAdditionalPaymentStepProps> {\n  form: React.RefObject<HTMLFormElement>;\n\n  constructor(props: TestAdditionalPaymentStepProps) {\n    super(props);\n    this.form = React.createRef<HTMLFormElement>();\n  }\n\n  componentDidMount() {\n    const form: HTMLFormElement = this.form.current!;\n    const { method, action } = form;\n    if (method.toLowerCase() === 'get') {\n      // Delay the redirect a little bit, to give the ConfirmLeavePrompt time to remove the beforeunload handler\n      setTimeout(() => {\n        window.location.href = action;\n      }, 1500);\n    } else {\n      form.submit();\n    }\n  }\n\n  render() {\n    const { url, method = 'POST', fields } = this.props;\n\n    return (\n      <form ref={this.form} method={method} action={url}>\n        {(fields || []).map(field => (\n          <input key={field.name} type=\"hidden\" name={field.name} value={field.value} />\n        ))}\n      </form>\n    );\n  }\n}\n"],"names":["PaymentPluginModel","React","Component","icon","SimplePayment","componentDidMount","props","onPaymentDetailsReady","render","children","TestAdditionalPaymentStep","constructor","form","createRef","current","method","action","toLowerCase","setTimeout","window","location","href","submit","url","fields","map","field","name","value"],"mappings":";;;;;;;;AAGO,MAAMA,kBAAN,SAGGC,KAAK,CAACC,SAHT,CAGyB;AAHnBF,mBAIJG;;ACJF,MAAMC,aAAN,SAA4BJ,kBAA5B,CAA+C;EACpDK,iBAAiB,GAAG;SACbC,KAAL,CAAWC,qBAAX;;;EAGFC,MAAM,GAAG;WACA,KAAKF,KAAL,CAAWG,QAAX,GAAsB,KAAKH,KAAL,CAAWG,QAAjC,GAA4C,IAAnD;;;;;;ACTJ,AAaO,MAAMC,yBAAN,SAAwCT,KAAK,CAACC,SAA9C,CAAwF;EAG7FS,WAAW,CAACL,KAAD,EAAwC;UAC3CA,KAAN;SAHFM,IAEmD;SAE5CA,IAAL,gBAAYX,KAAK,CAACY,SAAN,EAAZ;;;EAGFR,iBAAiB,GAAG;UACZO,IAAqB,GAAG,KAAKA,IAAL,CAAUE,OAAxC;UACM;MAAEC,MAAF;MAAUC;QAAWJ,IAA3B;;QACIG,MAAM,CAACE,WAAP,OAAyB,KAA7B,EAAoC;;MAElCC,UAAU,CAAC,MAAM;QACfC,MAAM,CAACC,QAAP,CAAgBC,IAAhB,GAAuBL,MAAvB;OADQ,EAEP,IAFO,CAAV;KAFF,MAKO;MACLJ,IAAI,CAACU,MAAL;;;;EAIJd,MAAM,GAAG;UACD;MAAEe,GAAF;MAAOR,MAAM,GAAG,MAAhB;MAAwBS;QAAW,KAAKlB,KAA9C;wBAGE;MAAM,GAAG,EAAE,KAAKM,IAAhB;MAAsB,MAAM,EAAEG,MAA9B;MAAsC,MAAM,EAAEQ,GAA9C;;;;;;OACG,CAACC,MAAM,IAAI,EAAX,EAAeC,GAAf,CAAmBC,KAAK,iBACvB;MAAO,GAAG,EAAEA,KAAK,CAACC,IAAlB;MAAwB,IAAI,EAAC,QAA7B;MAAsC,IAAI,EAAED,KAAK,CAACC,IAAlD;MAAwD,KAAK,EAAED,KAAK,CAACE,KAArE;;;;;;MADD,CADH,CADF;;;;;;;;;"}