"use strict";

var _interopRequireDefault = /*#__PURE__*/require("@babel/runtime/helpers/interopRequireDefault");

exports.__esModule = true;
exports.SortOrderPickerProvider = void 0;

var _react = /*#__PURE__*/_interopRequireDefault( /*#__PURE__*/require("react"));

var _falconShopData = /*#__PURE__*/require("@deity/falcon-shop-data");

var _SearchConsumer = /*#__PURE__*/require("../Search/SearchConsumer");

var _areSortOrderInputsEqual = /*#__PURE__*/require("./areSortOrderInputsEqual");

var SortOrderPickerProvider = function SortOrderPickerProvider(_ref) {
  var children = _ref.children;
  return /*#__PURE__*/_react.default.createElement(_falconShopData.BackendConfigQuery, null, function (_ref2) {
    var backendConfig = _ref2.data.backendConfig;
    var sortOrderList = backendConfig.shop.sortOrderList;
    return /*#__PURE__*/_react.default.createElement(_SearchConsumer.SearchConsumer, null, function (_ref3) {
      var sort = _ref3.state.sort,
          setSortOrder = _ref3.setSortOrder;
      return children({
        items: sortOrderList,
        value: sortOrderList.find(function (x) {
          return !x.value && !sort || (0, _areSortOrderInputsEqual.areSortOrderInputsEqual)(x.value, sort);
        }),
        onChange: function onChange(x) {
          return setSortOrder(x.value);
        }
      });
    });
  });
};

exports.SortOrderPickerProvider = SortOrderPickerProvider;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9Tb3J0T3JkZXIvU29ydE9yZGVyUGlja2VyUHJvdmlkZXIudHN4Il0sIm5hbWVzIjpbIlNvcnRPcmRlclBpY2tlclByb3ZpZGVyIiwiY2hpbGRyZW4iLCJiYWNrZW5kQ29uZmlnIiwiZGF0YSIsInNvcnRPcmRlckxpc3QiLCJzaG9wIiwic29ydCIsInN0YXRlIiwic2V0U29ydE9yZGVyIiwiaXRlbXMiLCJ2YWx1ZSIsImZpbmQiLCJ4Iiwib25DaGFuZ2UiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFFQTs7QUFDQTs7QUFDQTs7QUFXTyxJQUFNQSx1QkFBZ0UsR0FBRyxTQUFuRUEsdUJBQW1FO0FBQUEsTUFBR0MsUUFBSCxRQUFHQSxRQUFIO0FBQUEsc0JBQzlFLDZCQUFDLGtDQUFELFFBQ0csaUJBQWlDO0FBQUEsUUFBdEJDLGFBQXNCLFNBQTlCQyxJQUE4QixDQUF0QkQsYUFBc0I7QUFDaEMsUUFBUUUsYUFBUixHQUEwQkYsYUFBYSxDQUFDRyxJQUF4QyxDQUFRRCxhQUFSO0FBRUEsd0JBQ0UsNkJBQUMsOEJBQUQsUUFDRztBQUFBLFVBQVlFLElBQVosU0FBR0MsS0FBSCxDQUFZRCxJQUFaO0FBQUEsVUFBb0JFLFlBQXBCLFNBQW9CQSxZQUFwQjtBQUFBLGFBQ0NQLFFBQVEsQ0FBQztBQUNQUSxRQUFBQSxLQUFLLEVBQUVMLGFBREE7QUFFUE0sUUFBQUEsS0FBSyxFQUFFTixhQUFhLENBQUNPLElBQWQsQ0FBbUIsVUFBQUMsQ0FBQztBQUFBLGlCQUFLLENBQUNBLENBQUMsQ0FBQ0YsS0FBSCxJQUFZLENBQUNKLElBQWQsSUFBdUIsc0RBQXdCTSxDQUFDLENBQUNGLEtBQTFCLEVBQWlDSixJQUFqQyxDQUEzQjtBQUFBLFNBQXBCLENBRkE7QUFHUE8sUUFBQUEsUUFBUSxFQUFFLGtCQUFBRCxDQUFDO0FBQUEsaUJBQUlKLFlBQVksQ0FBQ0ksQ0FBQyxDQUFDRixLQUFILENBQWhCO0FBQUE7QUFISixPQUFELENBRFQ7QUFBQSxLQURILENBREY7QUFXRCxHQWZILENBRDhFO0FBQUEsQ0FBekUiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgU29ydE9yZGVyIH0gZnJvbSAnQGRlaXR5L2ZhbGNvbi1kYXRhJztcbmltcG9ydCB7IEJhY2tlbmRDb25maWdRdWVyeSB9IGZyb20gJ0BkZWl0eS9mYWxjb24tc2hvcC1kYXRhJztcbmltcG9ydCB7IFNlYXJjaENvbnN1bWVyIH0gZnJvbSAnLi4vU2VhcmNoL1NlYXJjaENvbnN1bWVyJztcbmltcG9ydCB7IGFyZVNvcnRPcmRlcklucHV0c0VxdWFsIH0gZnJvbSAnLi9hcmVTb3J0T3JkZXJJbnB1dHNFcXVhbCc7XG5cbmV4cG9ydCB0eXBlIFNvcnRPcmRlclBpY2tlclByb3ZpZGVyUmVuZGVyUHJvcHMgPSB7XG4gIGl0ZW1zOiBTb3J0T3JkZXJbXTtcbiAgdmFsdWU6IFNvcnRPcmRlcjtcbiAgb25DaGFuZ2UoYWN0aXZlOiBTb3J0T3JkZXIpOiB2b2lkO1xufTtcblxuZXhwb3J0IHR5cGUgU29ydE9yZGVyUGlja2VyUHJvdmlkZXJQcm9wcyA9IHtcbiAgY2hpbGRyZW4ocHJvcHM6IFNvcnRPcmRlclBpY2tlclByb3ZpZGVyUmVuZGVyUHJvcHMpOiBhbnk7XG59O1xuZXhwb3J0IGNvbnN0IFNvcnRPcmRlclBpY2tlclByb3ZpZGVyOiBSZWFjdC5TRkM8U29ydE9yZGVyUGlja2VyUHJvdmlkZXJQcm9wcz4gPSAoeyBjaGlsZHJlbiB9KSA9PiAoXG4gIDxCYWNrZW5kQ29uZmlnUXVlcnk+XG4gICAgeyh7IGRhdGE6IHsgYmFja2VuZENvbmZpZyB9IH0pID0+IHtcbiAgICAgIGNvbnN0IHsgc29ydE9yZGVyTGlzdCB9ID0gYmFja2VuZENvbmZpZy5zaG9wO1xuXG4gICAgICByZXR1cm4gKFxuICAgICAgICA8U2VhcmNoQ29uc3VtZXI+XG4gICAgICAgICAgeyh7IHN0YXRlOiB7IHNvcnQgfSwgc2V0U29ydE9yZGVyIH0pID0+XG4gICAgICAgICAgICBjaGlsZHJlbih7XG4gICAgICAgICAgICAgIGl0ZW1zOiBzb3J0T3JkZXJMaXN0LFxuICAgICAgICAgICAgICB2YWx1ZTogc29ydE9yZGVyTGlzdC5maW5kKHggPT4gKCF4LnZhbHVlICYmICFzb3J0KSB8fCBhcmVTb3J0T3JkZXJJbnB1dHNFcXVhbCh4LnZhbHVlLCBzb3J0KSkhLFxuICAgICAgICAgICAgICBvbkNoYW5nZTogeCA9PiBzZXRTb3J0T3JkZXIoeC52YWx1ZSlcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgfVxuICAgICAgICA8L1NlYXJjaENvbnN1bWVyPlxuICAgICAgKTtcbiAgICB9fVxuICA8L0JhY2tlbmRDb25maWdRdWVyeT5cbik7XG4iXX0=