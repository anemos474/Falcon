/* eslint-disable import/newline-after-import */
import React from 'react';
import { CookiesProvider as ReactCookiesProvider, Cookies } from 'react-cookie';

/**
 * @typedef {object} CookieProviderProps
 * @property {import('koa').Context} ctx koa context
 * @property {} children
 */

export const CookiesProvider = ({ ctx, children }) => {
  const isBrowser = process.env.BUILD_TARGET === 'client';

  return (
    <ReactCookiesProvider {...(isBrowser ? {} : { cookies: new Cookies(ctx.cookies) })}>
      {children}
    </ReactCookiesProvider>
  );
};
