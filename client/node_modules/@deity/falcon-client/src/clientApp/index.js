import './rhlConfig';
import * as App from 'app-path';
import { hot } from 'react-hot-loader/root';

// eslint-disable-next-line import/no-mutable-exports
let fragmentMatcherData;
try {
  fragmentMatcherData = require('app-path/fragmentMatcher.json');
} catch (e) {
  //
}

if (App.clientApolloSchema && (App.clientApolloSchema.data || App.clientApolloSchema.resolvers)) {
  console.warn('Due to Apollo upgrade we do not support Apollo client state anymore, Please use `React.Context`.');
}

const apolloClientOptions = {
  fragmentMatcherData
};

export default hot(App.default);
export { apolloClientOptions };
