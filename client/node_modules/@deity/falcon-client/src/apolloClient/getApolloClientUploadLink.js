import { createUploadLink } from 'apollo-upload-client';

/**
 * Configure default Cache for ApolloClient
 * @param {{httpLink; fetch; headers}} config
 * @returns {import('@apollo/client').ApolloLink}
 */
export function getApolloClientUploadLink(config) {
  const { httpLink, fetch, headers } = config;

  const apolloUploadLink = createUploadLink({
    ...httpLink,
    fetch,
    credentials: 'include',
    headers
  });

  return apolloUploadLink;
}
