{"version":3,"file":"falcon-theme-editor.cjs.js","sources":["../src/fonts.ts","../src/thememeta.ts","../src/ComponentsEditor.tsx","../src/ComponentFinder.tsx","../src/Tabs.tsx","../src/ThemePropsEditor.tsx","../src/editortheme.tsx","../src/ThemeDownloader.tsx","../src/ThemeEditorState.tsx","../src/ThemePresets.tsx","../src/index.tsx"],"sourcesContent":["export const fonts = [\n  {\n    value: '\"Segoe UI\", system-ui, sans-serif'\n  },\n  {\n    value: '\"SF Mono\", monospace'\n  },\n  {\n    value: 'Work Sans',\n    google: 'Work Sans:300,400,700'\n  },\n  {\n    value: 'Eczar',\n    google: 'Eczar:300,400,700'\n  },\n  {\n    value: 'Fira Sans',\n    google: 'Fira Sans:300,400,700'\n  },\n  {\n    value: 'Rubik',\n    google: 'Rubik:300,400,700'\n  },\n  {\n    value: 'Libre Franklin',\n    google: 'Libre Franklin:300,400,700'\n  },\n  {\n    value: 'Space Mono',\n    google: 'Space Mono:300,400,700'\n  },\n  {\n    value: 'IBM Plex Sans',\n    google: 'IBM Plex Sans:300,400,700'\n  },\n  {\n    value: 'Bangers',\n    google: 'Bangers:300,400,700'\n  },\n  {\n    value: 'Bubblegum Sans',\n    google: 'Bubblegum Sans:300,400,700'\n  },\n  {\n    value: 'Monoton',\n    google: 'Monoton:300,400,700'\n  },\n  {\n    value: 'Baloo',\n    google: 'Baloo:300,400,700'\n  },\n  {\n    value: 'Lilita One',\n    google: 'Lilita One:300,400,700'\n  }\n];\n","import { Theme, CSSObject } from '@deity/falcon-ui';\nimport { fonts } from './fonts';\n\ntype ThemeMeta = {\n  [name in keyof Theme]?: {\n    unit?: string;\n    input: {\n      type: string;\n      min?: number;\n      step?: number;\n      max?: number;\n      options?: any[];\n    };\n    previewCss?: (value: string) => CSSObject;\n  };\n};\n\nexport const themeMeta: ThemeMeta = {\n  colors: {\n    input: {\n      type: 'color'\n    },\n\n    previewCss: value => ({\n      backgroundColor: value\n    })\n  },\n\n  spacing: {\n    input: {\n      type: 'number',\n      min: 0,\n      step: 1,\n      max: 100\n    },\n    unit: 'px',\n\n    previewCss: value => ({\n      width: value\n    })\n  },\n\n  fonts: {\n    input: {\n      type: 'dropdown',\n      options: fonts\n    }\n  },\n\n  fontSizes: {\n    input: {\n      type: 'number',\n      min: 0,\n      step: 1,\n      max: 80\n    },\n\n    previewCss: value => ({\n      fontSize: value\n    }),\n\n    unit: 'px'\n  },\n\n  fontWeights: {\n    input: {\n      type: 'text'\n    }\n  },\n\n  lineHeights: {\n    input: {\n      type: 'number',\n      min: 0,\n      step: 0.1,\n      max: 3\n    }\n  },\n\n  letterSpacings: {\n    input: {\n      type: 'text'\n    },\n    previewCss: value => ({\n      letterSpacing: value\n    })\n  },\n\n  breakpoints: {\n    input: {\n      type: 'number',\n      step: 1,\n      min: 0,\n      max: 2048\n    },\n\n    unit: 'px'\n  },\n\n  borders: {\n    input: {\n      type: 'text'\n    },\n    previewCss: value => ({\n      border: value\n    })\n  },\n\n  borderRadius: {\n    input: {\n      type: 'number',\n      min: 0,\n      step: 1,\n      max: 100\n    },\n\n    unit: 'px',\n    previewCss: value => ({\n      borderRadius: value\n    })\n  },\n\n  boxShadows: {\n    input: {\n      type: 'text'\n    },\n\n    previewCss: value => ({\n      boxShadow: value\n    })\n  },\n  easingFunctions: {\n    input: {\n      type: 'text'\n    }\n  },\n\n  transitionDurations: {\n    input: {\n      type: 'text'\n    }\n  }\n};\n\nexport type ThemeCategories = {\n  [name: string]: {\n    name: string;\n    themeSections: (keyof Theme)[];\n  };\n};\nexport const themeCategories: ThemeCategories = {\n  colors: {\n    name: 'Colors',\n    themeSections: ['colors']\n  },\n\n  spacing: {\n    name: 'Spacing',\n    themeSections: ['spacing']\n  },\n\n  typography: {\n    name: 'Typography',\n    themeSections: ['fonts', 'fontSizes', 'fontWeights', 'letterSpacings', 'lineHeights']\n  },\n\n  breakpoints: {\n    name: 'Breakpoints',\n    themeSections: ['breakpoints']\n  },\n\n  borders: {\n    name: 'Borders',\n    themeSections: ['borders', 'borderRadius']\n  },\n\n  misc: {\n    name: 'Miscellaneous',\n    themeSections: ['boxShadows', 'easingFunctions', 'transitionDurations']\n  }\n};\n","import React from 'react';\nimport {\n  Theme,\n  mappings,\n  ComponentTheme,\n  mergeThemes,\n  Box,\n  Dropdown,\n  DropdownLabel,\n  DropdownMenu,\n  DropdownMenuItem,\n  GridLayout,\n  ResponsivePropMapping,\n  Text,\n  H3,\n  Input\n} from '@deity/falcon-ui';\nimport { themeMeta } from './thememeta';\nimport { ComponentWithDefaultTheme } from '.';\n\nfunction keys<O>(object: O) {\n  return Object.keys(object) as (keyof O)[];\n}\n\ntype ComponentEditorProps = {\n  theme: Theme;\n  defaultThemeProps: ComponentTheme<{}>;\n  themeProps?: ComponentTheme<{}>;\n  onChange: (key: string, value: string | object) => void;\n};\n\ntype ThemedPropEditorProps = {\n  onChange: (key: string, value: string) => void;\n  themeProp: keyof Theme;\n  themeSection: {\n    [name: string]: any;\n  };\n  propValue: string; // wartosc ustawiona obecnie w theme\n  propKey: string;\n};\n\nconst ThemedPropEditor: React.SFC<ThemedPropEditorProps> = ({\n  themeProp,\n  themeSection,\n  onChange,\n  propKey,\n  propValue\n}) => {\n  const meta = themeMeta[themeProp];\n  if (!meta) return null;\n\n  return (\n    <Dropdown onChange={value => onChange(value.key, value.value)}>\n      <DropdownLabel css={{ width: '100%' }}>\n        <GridLayout gridTemplateColumns=\"auto 1fr\">\n          <Box>\n            {propValue}\n            <Box as=\"span\" fontSize=\"xs\" ml=\"xs\">\n              ({themeSection[propValue]}\n              {meta.unit})\n            </Box>\n          </Box>\n\n          {meta.previewCss && (\n            <Box\n              justifySelf=\"end\"\n              bg=\"secondaryLight\"\n              border=\"regular\"\n              borderColor=\"secondaryDark\"\n              size=\"md\"\n              css={meta.previewCss(themeSection[propValue])}\n            />\n          )}\n        </GridLayout>\n      </DropdownLabel>\n\n      <DropdownMenu>\n        {keys(themeSection).map(key => (\n          <DropdownMenuItem\n            key={key}\n            value={{ key: propKey, value: key }}\n            pl=\"sm\"\n            pr=\"xxl\"\n            color={key === propValue ? 'primaryText' : 'secondaryText'}\n            bg={key === propValue ? 'primary' : 'transparent'}\n          >\n            <GridLayout gridTemplateColumns=\"auto 1fr\">\n              <Box>\n                {key}\n                <Box as=\"span\" fontSize=\"xs\" ml=\"xs\">\n                  ({themeSection[key]}\n                  {meta.unit})\n                </Box>\n              </Box>\n              {meta.previewCss && (\n                <Box\n                  justifySelf=\"end\"\n                  bg=\"secondaryLight\"\n                  border=\"regular\"\n                  borderColor=\"secondaryDark\"\n                  size=\"md\"\n                  css={meta.previewCss(themeSection[key])}\n                />\n              )}\n            </GridLayout>\n          </DropdownMenuItem>\n        ))}\n      </DropdownMenu>\n    </Dropdown>\n  );\n};\n\nclass ComponentEditor extends React.Component<ComponentEditorProps> {\n  render() {\n    const { theme, themeProps, defaultThemeProps, onChange } = this.props;\n\n    const mergedProps = mergeThemes(defaultThemeProps as any, (themeProps || {}) as any) as ComponentTheme<{}>;\n\n    return (\n      <Box>\n        {keys(mappings)\n          .filter(mapping => mergedProps[mapping] !== undefined)\n          .map((prop: keyof typeof mappings) => {\n            const { themeProp } = mappings[prop] as ResponsivePropMapping;\n            const propValue = mergedProps[prop];\n\n            return (\n              <GridLayout key={prop} gridTemplateColumns=\"120px 1fr\" mb=\"md\" alignItems=\"center\">\n                <Text p=\"none\" ellipsis>\n                  {prop}\n                </Text>\n\n                {typeof propValue === 'string' &&\n                  (themeProp ? (\n                    <ThemedPropEditor\n                      propKey={prop}\n                      propValue={propValue}\n                      themeProp={themeProp}\n                      themeSection={theme[themeProp]}\n                      onChange={onChange}\n                    />\n                  ) : (\n                    <Input border=\"none\" fontWeight=\"bold\" value={propValue as string} readOnly />\n                  ))}\n\n                {typeof propValue === 'object' && (\n                  <GridLayout gridGap=\"sm\" border=\"regular\" borderColor=\"secondary\" borderRadius=\"medium\" p=\"sm\">\n                    {keys(propValue).map(breakpointKey => (\n                      <Box>\n                        <Text pb=\"xs\">\n                          {breakpointKey}\n                          <Box as=\"span\" ml=\"xs\" fontSize=\"xs\">\n                            (min-width: {theme.breakpoints[breakpointKey]}\n                            px)\n                          </Box>\n                        </Text>\n                        {themeProp ? (\n                          <ThemedPropEditor\n                            propKey={prop}\n                            propValue={propValue[breakpointKey]}\n                            themeProp={themeProp}\n                            themeSection={theme[themeProp]}\n                            onChange={(key, value) => {\n                              onChange(key, {\n                                [breakpointKey]: value\n                              });\n                            }}\n                          />\n                        ) : (\n                          <Input border=\"none\" fontWeight=\"bold\" value={propValue[breakpointKey]} readOnly />\n                        )}\n                      </Box>\n                    ))}\n                  </GridLayout>\n                )}\n              </GridLayout>\n            );\n          })}\n      </Box>\n    );\n  }\n}\n\ntype ComponentsEditorProps = {\n  selectedComponents: ComponentWithDefaultTheme[];\n  theme: Theme;\n  onComponentThemeChange: (themeKey: string, variantKey?: string) => (key: string, value: string | object) => void;\n};\n\nexport const ComponentsEditor: React.SFC<ComponentsEditorProps> = ({\n  theme,\n  selectedComponents,\n  onComponentThemeChange\n}) => (\n  <>\n    {selectedComponents.map(selectedComponent => {\n      const themeKey = Object.keys(selectedComponent.defaultTheme)[0];\n\n      return (\n        <Box key={themeKey}>\n          <H3 mb=\"md\">{themeKey} theme</H3>\n\n          <ComponentEditor\n            defaultThemeProps={selectedComponent.defaultTheme[themeKey]}\n            themeProps={theme.components[themeKey]}\n            theme={theme}\n            onChange={onComponentThemeChange(themeKey)}\n          />\n\n          {selectedComponent.defaultTheme[themeKey].variants && (\n            <Box>\n              {Object.keys((selectedComponent.defaultTheme[themeKey] as any).variants).map(variantKey => (\n                <React.Fragment key={variantKey}>\n                  <H3 fontSize=\"md\" my=\"md\">\n                    variant: {variantKey}\n                  </H3>\n                  <ComponentEditor\n                    defaultThemeProps={(selectedComponent.defaultTheme[themeKey] as any).variants[variantKey]}\n                    themeProps={\n                      theme.components[themeKey] &&\n                      theme.components[themeKey].variants &&\n                      theme.components[themeKey].variants![variantKey]\n                    }\n                    theme={theme}\n                    onChange={onComponentThemeChange(themeKey, variantKey)}\n                  />\n                </React.Fragment>\n              ))}\n            </Box>\n          )}\n        </Box>\n      );\n    })}\n  </>\n);\n","import React from 'react';\nimport { Box, Portal } from '@deity/falcon-ui';\nimport { ComponentWithDefaultTheme } from './ThemeEditorState';\n\nfunction throttle(callback: Function, wait: number, context: object) {\n  let timeout: number | undefined;\n  let callbackArgs: any[];\n\n  const later = () => {\n    callback.apply(context, callbackArgs);\n    timeout = undefined;\n  };\n\n  return (...args: any[]) => {\n    if (!timeout) {\n      callbackArgs = args;\n      timeout = window.setTimeout(later, wait);\n    }\n  };\n}\n\ntype ComponentFinderState = {\n  locatedComponent?: {\n    rect: ClientRect;\n    defaultTheme: ComponentWithDefaultTheme;\n  };\n};\n\ntype ComponentFinderProps = {\n  onChange: (components: ComponentWithDefaultTheme[]) => void;\n};\n\nfunction getNearestThemableComponentForElement(element: Element) {\n  const maxElementHierarchyTraversal = 3;\n  let currentTraversal = 0;\n\n  let elementToCheck: Element | null = element;\n  while (currentTraversal < maxElementHierarchyTraversal) {\n    if (!elementToCheck) {\n      return undefined;\n    }\n\n    // __reactInternalInstance trick based on https://stackoverflow.com/a/50204915/105206\n    // eslint-disable-next-line\n    for (const key in elementToCheck) {\n      if (key.startsWith('__reactInternalInstance$')) {\n        const fiberNode = (elementToCheck as any)[key];\n        // eslint-disable-next-line\n        const component = fiberNode && fiberNode._debugOwner;\n        const defaultTheme = component && component.memoizedProps && component.memoizedProps.defaultTheme;\n\n        if (defaultTheme) {\n          return {\n            defaultTheme: defaultTheme as ComponentWithDefaultTheme,\n            rect: elementToCheck.getBoundingClientRect() as ClientRect\n          };\n        }\n\n        // some themed components render via another component, like checkbox\n        // so we need to search for parent's defaultTheme prop as well\n        // eslint-disable-next-line\n        const parentComponent = component && component._debugOwner;\n        const parentDefaultTheme =\n          parentComponent && parentComponent.memoizedProps && parentComponent.memoizedProps.defaultTheme;\n        if (parentDefaultTheme && elementToCheck.parentElement) {\n          return {\n            defaultTheme: parentDefaultTheme as ComponentWithDefaultTheme,\n            rect: elementToCheck.parentElement.getBoundingClientRect() as ClientRect\n          };\n        }\n      }\n    }\n\n    elementToCheck = elementToCheck.parentElement;\n    currentTraversal++;\n  }\n\n  return undefined;\n}\n\n// based on https://stackoverflow.com/questions/3426404/create-a-hexadecimal-colour-based-on-a-string-with-javascript\nfunction getHashCode(val: string) {\n  let hash = 0;\n  if (val.length === 0) return hash;\n  for (let i = 0; i < val.length; i++) {\n    // eslint-disable-next-line\n    hash = val.charCodeAt(i) + ((hash << 5) - hash);\n    // eslint-disable-next-line\n    hash &= hash;\n  }\n  return hash;\n}\n\nfunction getHSLA(hash: number) {\n  const shortened = hash % 360;\n  return `hsla(${shortened}, 90%, 30%, 0.2)`;\n}\n\nexport class ComponentFinder extends React.Component<ComponentFinderProps, ComponentFinderState> {\n  readonly state: ComponentFinderState = {};\n\n  currentElementFromPoint?: Element = undefined;\n\n  throttledOnChange?: Function = undefined;\n\n  componentDidMount() {\n    this.throttledOnChange = throttle(this.onChange, 50, this);\n    window.addEventListener('mousemove', this.throttledOnChange as any);\n    window.addEventListener('click', this.onClick, true);\n    window.addEventListener('scroll', this.onScroll);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('mousemove', this.throttledOnChange as any);\n    window.removeEventListener('click', this.onClick, true);\n    window.addEventListener('scroll', this.onScroll);\n    this.currentElementFromPoint = undefined;\n    this.throttledOnChange = undefined;\n  }\n\n  onChange(e: MouseEvent) {\n    const elementFromPoint = document.elementFromPoint(e.clientX, e.clientY);\n    if (!elementFromPoint) return;\n    if (this.currentElementFromPoint === elementFromPoint) return;\n\n    this.currentElementFromPoint = elementFromPoint;\n\n    const nearestThemableComponent = getNearestThemableComponentForElement(this.currentElementFromPoint);\n\n    requestAnimationFrame(() => {\n      this.setState({\n        locatedComponent: nearestThemableComponent\n      });\n    });\n  }\n\n  onClick = (e: MouseEvent) => {\n    if (!this.props.onChange) return;\n    if (!this.state.locatedComponent) return;\n\n    this.props.onChange([\n      {\n        defaultTheme: this.state.locatedComponent.defaultTheme\n      }\n    ]);\n\n    e.preventDefault();\n    e.stopPropagation();\n  };\n\n  onScroll = () => {\n    if (!this.state.locatedComponent) return;\n    this.setState({\n      locatedComponent: undefined\n    });\n  };\n\n  renderOverlay() {\n    const { locatedComponent } = this.state;\n    if (!locatedComponent) return null;\n\n    const themeKey = Object.keys(locatedComponent.defaultTheme)[0];\n\n    return (\n      <Box\n        position=\"absolute\"\n        style={{\n          left: locatedComponent.rect.left,\n          right: locatedComponent.rect.right,\n          top: locatedComponent.rect.top,\n          bottom: locatedComponent.rect.bottom,\n          height: locatedComponent.rect.height,\n          width: locatedComponent.rect.width,\n          backgroundColor: getHSLA(getHashCode(themeKey))\n        }}\n      >\n        <Box bg=\"black\" position=\"absolute\" bottom=\"100%\" fontSize=\"sm\" px=\"sm\" py=\"xs\" color=\"white\">\n          {themeKey}\n        </Box>\n      </Box>\n    );\n  }\n\n  render() {\n    return (\n      <Portal>\n        <Box position=\"fixed\" top=\"0\" left=\"0\" css={{ pointerEvents: 'none', height: 100, width: 100, zIndex: 10000 }}>\n          {this.renderOverlay()}\n        </Box>\n      </Portal>\n    );\n  }\n}\n","import React from 'react';\nimport { FlexLayout, Box, Text, Icon } from '@deity/falcon-ui';\n\nexport type Tab<TKey> = {\n  name: string;\n  key: TKey;\n};\n\nexport type ThemeEditorTabsProps<TKey> = {\n  onChange: (tabKey: TKey) => void;\n  active: TKey;\n  items: Tab<TKey>[];\n};\n\nexport const Tabs = <TKey extends string = string>(props: React.PropsWithChildren<ThemeEditorTabsProps<TKey>>) => {\n  const { items, active, onChange } = props;\n  return (\n    <FlexLayout pr=\"sm\" justifyContent=\"space-between\" css={{ textAlign: 'center' }}>\n      {items.map(item => (\n        <Box key={item.key} css={{ cursor: 'pointer' }} onClick={() => onChange(item.key)}>\n          <Icon\n            src={item.key}\n            stroke={item.key === active ? 'primary' : 'black'}\n            fill={item.key === active ? 'primary' : 'black'}\n            transitionTimingFunction=\"easeIn\"\n            transitionDuration=\"short\"\n            css={{ strokeWidth: 2, transitionProperty: 'all' }}\n          />\n          <Text fontSize=\"xs\" color={item.key === active ? 'primary' : 'black'}>\n            {item.name}\n          </Text>\n        </Box>\n      ))}\n    </FlexLayout>\n  );\n};\n","import React from 'react';\nimport {\n  Details,\n  Summary,\n  DetailsContent,\n  GridLayout,\n  Theme,\n  NumberInput,\n  RangeInput,\n  Text,\n  Dropdown,\n  DropdownLabel,\n  DropdownMenu,\n  DropdownMenuItem,\n  Input\n} from '@deity/falcon-ui';\nimport { themeCategories, themeMeta } from './thememeta';\nimport { fonts } from './fonts';\n\ntype ThemePropsEditorProps = {\n  openPanels: {\n    [name: string]: boolean;\n  };\n  theme: Theme;\n  toggleOpenPanel: (panelKey: string) => void;\n  onChange: (\n    themeKey: string,\n    propName: string,\n    isNumber?: boolean\n  ) => (e: React.ChangeEvent<HTMLInputElement>) => void;\n  onFontChange: (fontKind: string) => (fontOption: any) => void;\n};\n\ntype EditorSectionProps = {\n  section: keyof Theme;\n  theme: Theme;\n  onChange: (\n    themeKey: string,\n    propName: string,\n    isNumber?: boolean\n  ) => (e: React.ChangeEvent<HTMLInputElement>) => void;\n  onFontChange: (fontKind: string) => (fontOption: any) => void;\n};\n\nconst EditorSection: React.SFC<EditorSectionProps> = ({ theme, section, onChange, onFontChange }) => (\n  <>\n    {Object.keys(theme[section]).map(themeProp => {\n      const meta = themeMeta[section];\n      if (!meta) return null;\n\n      return (\n        <GridLayout\n          alignItems=\"center\"\n          gridGap=\"xs\"\n          mb=\"xs\"\n          gridTemplateColumns={meta.input.type === 'dropdown' ? '50px auto 1.8fr 20px' : '1.1fr auto 1.8fr 35px'}\n          key={themeProp}\n        >\n          <Text p=\"xs\">{`\"${themeProp}\"`}</Text>\n\n          {meta.input.type === 'number' && (\n            <>\n              <NumberInput\n                value={(theme as any)[section][themeProp]}\n                min={meta.input.min}\n                max={meta.input.max}\n                step={meta.input.step}\n                onChange={onChange(section, themeProp, true)}\n              />\n\n              <RangeInput\n                value={(theme as any)[section][themeProp]}\n                min={meta.input.min}\n                max={meta.input.max}\n                step={meta.input.step}\n                onChange={onChange(section, themeProp, true)}\n              />\n              <Text p=\"none\" ml=\"xs\" fontSize=\"sm\">\n                px\n              </Text>\n            </>\n          )}\n          {meta.input.type === 'dropdown' && (\n            <Dropdown onChange={onFontChange(themeProp)} gridColumn=\"span 3\">\n              <DropdownLabel>{(theme as any)[section][themeProp]}</DropdownLabel>\n              <DropdownMenu>\n                {fonts.map(font => (\n                  <DropdownMenuItem key={font.value} value={font}>\n                    {`${font.value} ${font.google ? ' - (Google Font)' : ''}`}\n                  </DropdownMenuItem>\n                ))}\n              </DropdownMenu>\n            </Dropdown>\n          )}\n          {meta.input.type === 'color' && (\n            <Input\n              onChange={onChange(section, themeProp)}\n              type=\"color\"\n              gridColumn=\"span 2\"\n              value={(theme as any)[section][themeProp]}\n              css={{\n                padding: 0,\n                width: 60,\n                borderRadius: 0,\n                border: 'none'\n              }}\n            />\n          )}\n\n          {meta.input.type === 'text' && (\n            <Input\n              onChange={onChange(section, themeProp)}\n              gridColumn=\"span 3\"\n              type=\"text\"\n              value={(theme as any)[section][themeProp]}\n            />\n          )}\n        </GridLayout>\n      );\n    })}\n  </>\n);\n\nexport const ThemePropsEditor: React.SFC<ThemePropsEditorProps> = ({\n  openPanels,\n  toggleOpenPanel,\n  theme,\n  onChange,\n  onFontChange\n}) => (\n  <GridLayout gridGap=\"xs\">\n    {Object.keys(themeCategories).map(categoryKey => {\n      const category = themeCategories[categoryKey];\n      return (\n        <Details key={category.name} open={openPanels[categoryKey]}>\n          <Summary\n            onClick={e => {\n              e.preventDefault();\n              toggleOpenPanel(categoryKey);\n            }}\n          >\n            {category.name}\n          </Summary>\n\n          {openPanels[categoryKey] && (\n            <DetailsContent pr=\"xs\">\n              {category.themeSections.length === 1 && (\n                <EditorSection\n                  section={category.themeSections[0]}\n                  theme={theme}\n                  onChange={onChange}\n                  onFontChange={onFontChange}\n                />\n              )}\n\n              {category.themeSections.length > 1 &&\n                category.themeSections.map(section => {\n                  const key = categoryKey + section;\n\n                  return (\n                    <Details mb=\"sm\" key={key} open={openPanels[key]}>\n                      <Summary\n                        onClick={e => {\n                          e.preventDefault();\n                          toggleOpenPanel(key);\n                        }}\n                      >\n                        {section}\n                      </Summary>\n                      <DetailsContent mr=\"xs\">\n                        <EditorSection\n                          section={section}\n                          theme={theme}\n                          onChange={onChange}\n                          onFontChange={onFontChange}\n                        />\n                      </DetailsContent>\n                    </Details>\n                  );\n                })}\n            </DetailsContent>\n          )}\n        </Details>\n      );\n    })}\n  </GridLayout>\n);\n","import React from 'react';\nimport { createTheme } from '@deity/falcon-ui';\n\nexport const editorTheme = createTheme({\n  components: {\n    summary: {\n      bg: 'secondaryLight',\n      borderRadius: 'round'\n    },\n    button: {\n      borderRadius: 'round'\n    }\n  },\n  icons: {\n    presets: {\n      icon: (props: any) => (\n        <svg viewBox=\"0 0 50 48\" {...props}>\n          <path d=\"M45.188,19.75c0.138,0,0.25-0.112,0.25-0.25V4.875c0-0.138-0.112-0.25-0.25-0.25H30.563c-0.138,0-0.25,0.112-0.25,0.25  v7.969H19.688V4.875c0-0.138-0.112-0.25-0.25-0.25H4.813c-0.138,0-0.25,0.112-0.25,0.25V19.5c0,0.138,0.112,0.25,0.25,0.25h8.031  v10.5H4.813c-0.138,0-0.25,0.112-0.25,0.25v14.625c0,0.138,0.112,0.25,0.25,0.25h14.625c0.138,0,0.25-0.112,0.25-0.25v-7.969h10.625  v7.969c0,0.138,0.112,0.25,0.25,0.25h14.625c0.138,0,0.25-0.112,0.25-0.25V30.5c0-0.138-0.112-0.25-0.25-0.25h-8.031v-10.5H45.188z   M30.813,5.125h14.125V19.25h-7.781v-6.156c0-0.138-0.112-0.25-0.25-0.25h-6.094V5.125z M13.344,36.656V13.344h23.313v6.154  c0,0.001-0.001,0.001-0.001,0.002s0.001,0.001,0.001,0.002v10.996c0,0-0.001,0.001-0.001,0.002s0.001,0.002,0.001,0.002v6.154  H13.344z M5.063,19.25V5.125h14.125v7.719h-6.094c-0.138,0-0.25,0.112-0.25,0.25v6.156H5.063z M19.188,44.875H5.063V30.75h7.781  v6.156c0,0.138,0.112,0.25,0.25,0.25h6.094V44.875z M44.938,30.75v14.125H30.813v-7.719h6.094c0.138,0,0.25-0.112,0.25-0.25V30.75  H44.938z\" />\n        </svg>\n      )\n    },\n    component: {\n      icon: (props: any) => (\n        <svg viewBox=\"5 0 90 90\" {...props}>\n          <path d=\"M17.6,63.9c0,1.5,0.7,2.8,1.8,3.7L47.1,89c0.9,0.7,1.9,1,2.9,1s2-0.3,2.9-1l27.7-21.4c1.2-0.9,1.8-2.3,1.8-3.7    c0-1.5-0.7-2.8-1.8-3.7L76.4,57l4.2-3.2c1.2-0.9,1.8-2.3,1.8-3.7c0-1.5-0.7-2.8-1.8-3.7L76.4,43l4.2-3.2c1.2-0.9,1.8-2.3,1.8-3.7    s-0.7-2.8-1.8-3.7L52.9,11c-1.6-1.3-4.1-1.3-5.8,0L19.4,32.3c-1.2,0.9-1.8,2.3-1.8,3.7s0.7,2.8,1.8,3.7l4.2,3.2l-4.2,3.2    c-1.2,0.9-1.8,2.3-1.8,3.7c0,1.5,0.7,2.8,1.8,3.7l4.2,3.2l-4.2,3.2C18.3,61.1,17.6,62.4,17.6,63.9z M21.6,36.1    c0-0.1,0-0.4,0.3-0.6l27.7-21.4C49.7,14,49.9,14,50,14s0.3,0,0.4,0.2l27.7,21.4c0.2,0.2,0.3,0.4,0.3,0.6s0,0.4-0.3,0.6L50.4,58    c-0.3,0.3-0.6,0.3-0.9,0L21.9,36.7C21.6,36.5,21.6,36.2,21.6,36.1z M21.6,50c0-0.1,0-0.4,0.3-0.6l5-3.9l20.2,15.6    c0.8,0.6,1.9,1,2.9,1s2.1-0.4,2.9-1l20.2-15.6l5,3.9c0.2,0.2,0.3,0.4,0.3,0.6s0,0.4-0.3,0.6l-6.2,4.8c0,0-0.1,0-0.1,0.1L50.4,71.9    c-0.3,0.2-0.6,0.2-0.9,0L28.2,55.5c0,0-0.1,0-0.1-0.1l-6.2-4.8C21.6,50.4,21.6,50.1,21.6,50z M21.9,63.3l5-3.9l20.2,15.6    c0.9,0.7,1.9,1,2.9,1s2-0.3,2.9-1l20.2-15.6l5,3.9c0.2,0.2,0.3,0.4,0.3,0.6c0,0.1,0,0.4-0.3,0.6L50.4,85.9c-0.3,0.2-0.6,0.2-0.9,0    L21.9,64.5c-0.2-0.2-0.3-0.4-0.3-0.6C21.6,63.8,21.6,63.5,21.9,63.3z\" />\n        </svg>\n      )\n    },\n    finder: {\n      icon: (props: any) => (\n        <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" {...props}>\n          <path d=\"M8 3H5a2 2 0 0 0-2 2v3m18 0V5a2 2 0 0 0-2-2h-3m0 18h3a2 2 0 0 0 2-2v-3M3 16v3a2 2 0 0 0 2 2h3\" />\n        </svg>\n      ),\n      css: {\n        cursor: 'pointer',\n        fill: 'none'\n      }\n    },\n    download: {\n      icon: (props: any) => (\n        <svg viewBox=\"10 0 85 85\" {...props}>\n          <path d=\"M22.25,76.813v4h55.5v-4H22.25z M72.98,45.41l-2.828-2.828L52,60.734V21.188h-4v39.547L29.848,42.582L27.02,45.41L50,68.391  L72.98,45.41z\" />\n        </svg>\n      ),\n      css: {\n        cursor: 'pointer',\n        fill: 'none'\n      }\n    },\n    copy: {\n      icon: (props: any) => (\n        <svg viewBox=\"0 0 24 24\" strokeWidth={2} {...props}>\n          <rect x=\"9\" y=\"9\" width=\"13\" height=\"13\" rx=\"2\" ry=\"2\" />\n          <path d=\"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1\" />\n        </svg>\n      ),\n      fill: 'transparent'\n    },\n    theme: {\n      icon: (props: any) => (\n        <svg viewBox=\"0 0 100 100\" {...props}>\n          <path d=\"M12,52H30v7H48V52H88V48H48V41H30v7H12Zm22-7H44V55H34Z\" />\n          <path d=\"M12,22H49v7H67V22H88V18H67V11H49v7H12Zm41-7H63V25H53Z\" />\n          <path d=\"M12,82H49v7H67V82H88V78H67V71H49v7H12Zm41-7H63V85H53Z\" />\n        </svg>\n      )\n    },\n\n    dropdownArrowDown: {\n      icon: (props: any) => (\n        <svg viewBox=\"0 0 24 24\" {...props}>\n          <polyline points=\"6 9 12 15 18 9\" />\n        </svg>\n      ),\n      stroke: 'primary',\n      fill: 'transparent',\n      size: 'md',\n      ml: 'xs'\n    },\n\n    dropdownArrowUp: {\n      icon: (props: any) => (\n        <svg viewBox=\"0 0 24 24\" {...props}>\n          <polyline points=\"18 15 12 9 6 15\" />\n        </svg>\n      ),\n\n      stroke: 'primary',\n      fill: 'transparent',\n      size: 'md',\n      ml: 'xs'\n    }\n  }\n});\n","import React from 'react';\nimport { diff } from 'deep-object-diff';\nimport { Theme, Input, FlexLayout, Icon, Button, Text } from '@deity/falcon-ui';\n\nconst CREATE_THEME_IMPORT = \"import { createTheme } from '@deity/falcon-ui';\";\n\nfunction getThemeCustomizations(initialTheme: Theme, currentTheme: Theme) {\n  const themeDiff = diff(initialTheme as object, currentTheme);\n\n  return JSON.stringify(themeDiff, null, 2);\n}\n\nfunction withExports(customizationsSerialized: string) {\n  return `${CREATE_THEME_IMPORT}\\n\\nexport const theme = createTheme(${customizationsSerialized});`;\n}\n\ntype ThemeDownloaderProps = {\n  currentTheme: Theme;\n  initialTheme: Theme;\n};\n\nfunction copyToClipboard(serializedCustomizations: string) {\n  (window.navigator as any).clipboard.writeText(withExports(serializedCustomizations));\n}\n\nfunction download(serializedCustomizations: string) {\n  const customizations = withExports(serializedCustomizations);\n  const data = `data:text/json;charset=utf-8,${encodeURIComponent(customizations)}`;\n\n  const downloader = document.createElement('a');\n\n  downloader.setAttribute('href', data);\n  downloader.setAttribute('download', 'theme.js');\n  downloader.click();\n}\n\nexport const ThemeDownloader: React.SFC<ThemeDownloaderProps> = ({ initialTheme, currentTheme }) => {\n  const serializedCustomizations = getThemeCustomizations(initialTheme, currentTheme);\n  if (serializedCustomizations === '{}') {\n    return <Text fontSize=\"md\">Nothing to download yet, try making few customizations first!</Text>;\n  }\n\n  return (\n    <FlexLayout css={{ height: '100%' }} flexDirection=\"column\">\n      <FlexLayout mb=\"sm\">\n        <Button mr=\"xs\" flex=\"1\" onClick={() => copyToClipboard(serializedCustomizations)}>\n          <Icon stroke=\"white\" src=\"copy\" size=\"md\" mr=\"sm\" />\n          Copy\n        </Button>\n\n        <Button ml=\"xs\" flex=\"1\" onClick={() => download(serializedCustomizations)}>\n          <Icon size=\"md\" mr=\"sm\" stroke=\"white\" css={{ strokeWidth: '4' }} src=\"download\" />\n          Download\n        </Button>\n      </FlexLayout>\n      <Input as=\"textarea\" flex=\"1\" spellCheck={false} readOnly value={serializedCustomizations} />\n    </FlexLayout>\n  );\n};\n","import { Theme, mergeThemes, ThemeComponents, RecursivePartial } from '@deity/falcon-ui';\nimport React from 'react';\nimport { ThemePreset } from './ThemePresets';\n\nexport type TabKeys = 'theme' | 'component' | 'presets' | 'download';\n\nexport type ComponentWithDefaultTheme = {\n  defaultTheme: ThemeComponents;\n};\n\nexport type ThemeStateContextType = {\n  selectComponents?: (components: ComponentWithDefaultTheme[]) => void;\n  openThemePropsPanel?: (panel: string, subpanel?: string) => void;\n  toggleFinder?: () => void;\n  openEditor?: boolean;\n  finderActive?: boolean;\n  presets?: ThemePreset[];\n};\n\nexport const ThemeStateContext = React.createContext<ThemeStateContextType>({});\n\ntype ThemeEditorStateState = {\n  activeTheme: Theme;\n  initialTheme: Theme;\n  visible: boolean;\n  finderActive: boolean;\n  activeTab: TabKeys;\n  tabs: {\n    theme: {\n      openPanels: {\n        [name: string]: boolean;\n      };\n    };\n    component: {\n      selectedComponents: ComponentWithDefaultTheme[];\n    };\n    presets: {\n      active: string;\n    };\n  };\n  presets: ThemePreset[];\n};\n\nexport type ThemeEditorStateRenderProp = {\n  theme: Theme;\n  initialTheme: Theme;\n  updateTheme: (themeDiff: RecursivePartial<Theme>, options?: any) => void;\n  selectComponents: (components: ComponentWithDefaultTheme[]) => void;\n  openEditor?: boolean;\n  toggleVisibility: () => void;\n  toggleFinder: () => void;\n  visible: boolean;\n  finderActive: boolean;\n  activeTab: TabKeys;\n  setActiveTab: (tabKey: TabKeys) => void;\n  setActivePreset: (presetKey: string) => void;\n  toggleOpenPanel: (panelKey: string) => void;\n  tabs: {\n    theme: {\n      openPanels: {\n        [name: string]: boolean;\n      };\n    };\n    component: {\n      selectedComponents: ComponentWithDefaultTheme[];\n    };\n    presets: {\n      active: string;\n    };\n  };\n};\n\nexport type ThemeEditorStateProps = {\n  initial: Theme;\n  children: (renderProp: ThemeEditorStateRenderProp) => React.ReactNode;\n  presets?: ThemePreset[];\n};\nexport class ThemeEditorState extends React.Component<ThemeEditorStateProps, ThemeEditorStateState> {\n  static defaultProps = {\n    presets: []\n  };\n\n  constructor(props: ThemeEditorStateProps) {\n    super(props);\n\n    this.state = {\n      activeTheme: props.initial,\n      // eslint-disable-next-line react/no-unused-state\n      initialTheme: props.initial,\n      visible: false,\n      finderActive: false,\n      activeTab: 'theme',\n      tabs: {\n        theme: {\n          openPanels: {}\n        },\n        component: {\n          selectedComponents: []\n        },\n        presets: {\n          active: 'Deity Green'\n        }\n      },\n      presets: props.presets\n    };\n  }\n\n  static getDerivedStateFromProps = (\n    props: Readonly<ThemeEditorStateProps>,\n    state: Readonly<ThemeEditorStateState>\n  ): Partial<ThemeEditorStateState> | null => {\n    if (props.initial !== state.initialTheme) {\n      return {\n        activeTheme: props.initial,\n        initialTheme: props.initial\n      };\n    }\n    return null;\n  };\n\n  setActiveTab = (tabKey: TabKeys) => {\n    this.setState({\n      activeTab: tabKey\n    });\n  };\n\n  setActivePreset = (presetKey: string) => {\n    this.setState(state => {\n      const tabs = { ...state.tabs };\n      const presets = { ...{ ...tabs.presets } };\n      presets.active = presetKey;\n      tabs.presets = presets;\n\n      return {\n        tabs\n      };\n    });\n  };\n\n  updateTheme = (themeDiff: RecursivePartial<Theme>, { useInitial = false }: { useInitial?: boolean } = {}) => {\n    requestAnimationFrame(() => {\n      this.setState(state => {\n        const themeBase = useInitial ? this.props.initial : state.activeTheme;\n\n        return {\n          activeTheme: mergeThemes(themeBase, themeDiff)\n        };\n      });\n    });\n  };\n\n  toggleFinder = () => {\n    this.setState(state => ({ finderActive: !state.finderActive }));\n  };\n\n  toggleVisibility = () => {\n    this.setState(state => ({ visible: !state.visible }));\n  };\n\n  selectComponents = (components: ComponentWithDefaultTheme[]) => {\n    requestAnimationFrame(() => {\n      this.setState(state => {\n        const tabs = { ...state.tabs };\n        tabs.component = {\n          selectedComponents: components\n        };\n\n        return {\n          tabs,\n          activeTab: 'component',\n          visible: true,\n          finderActive: false\n        };\n      });\n    });\n  };\n\n  toggleOpenPanel = (key: string) => {\n    this.setState(state => {\n      const tabs = { ...state.tabs };\n      const openPanels = { ...{ ...tabs.theme }.openPanels };\n\n      openPanels[key] = !openPanels[key];\n\n      tabs.theme.openPanels = openPanels;\n      return {\n        tabs\n      };\n    });\n  };\n\n  openThemePropsPanel = (panel: string, subpanel?: string) => {\n    this.setState(state => {\n      const tabs = { ...state.tabs };\n      const openPanels = {\n        [panel]: true\n      };\n\n      if (subpanel) {\n        openPanels[panel + subpanel] = true;\n      }\n\n      tabs.theme.openPanels = openPanels;\n      return {\n        tabs,\n        activeTab: 'theme',\n        visible: true\n      };\n    });\n  };\n\n  render() {\n    return (\n      <ThemeStateContext.Provider\n        value={{\n          selectComponents: this.selectComponents,\n          openThemePropsPanel: this.openThemePropsPanel,\n          toggleFinder: this.toggleFinder,\n          finderActive: this.state.finderActive,\n          presets: this.state.presets\n        }}\n      >\n        {this.props.children({\n          theme: this.state.activeTheme,\n          updateTheme: this.updateTheme,\n          initialTheme: this.props.initial,\n          selectComponents: this.selectComponents,\n          toggleVisibility: this.toggleVisibility,\n          toggleFinder: this.toggleFinder,\n          visible: this.state.visible,\n          finderActive: this.state.finderActive,\n          activeTab: this.state.activeTab,\n          setActiveTab: this.setActiveTab,\n          tabs: this.state.tabs,\n          toggleOpenPanel: this.toggleOpenPanel,\n          setActivePreset: this.setActivePreset\n        })}\n      </ThemeStateContext.Provider>\n    );\n  }\n}\n","import React, { useContext } from 'react';\nimport { Button, Group, RecursivePartial, Theme } from '@deity/falcon-ui';\nimport { ThemeStateContext } from './ThemeEditorState';\n\nexport type ThemePreset = {\n  name: string;\n  theme: RecursivePartial<Theme>;\n};\n\ntype ThemePresetsProps = {\n  onPresetChange: (preset: ThemePreset) => () => void;\n  activePreset: string;\n};\nexport const ThemePresets: React.FC<ThemePresetsProps> = ({ activePreset, onPresetChange }) => {\n  const { presets } = useContext(ThemeStateContext);\n\n  return (\n    <Group my=\"md\" mx=\"md\" display=\"flex\">\n      {presets.map(preset => (\n        <Button\n          key={preset.name}\n          variant={preset.name === activePreset ? '' : 'secondary'}\n          flex=\"1\"\n          height=\"xxl\"\n          onClick={onPresetChange(preset)}\n        >\n          {preset.name}\n        </Button>\n      ))}\n    </Group>\n  );\n};\n","import React from 'react';\nimport { ThemeProvider, Box, Divider, FlexLayout, Icon, Sidebar, Portal } from '@deity/falcon-ui';\nimport { ComponentsEditor } from './ComponentsEditor';\nimport { ComponentFinder } from './ComponentFinder';\nimport { Tabs, Tab } from './Tabs';\nimport { ThemeEditorStateRenderProp, TabKeys } from './ThemeEditorState';\nimport { ThemePropsEditor } from './ThemePropsEditor';\nimport { editorTheme } from './editortheme';\nimport { ThemeDownloader } from './ThemeDownloader';\nimport { ThemePresets, ThemePreset } from './ThemePresets';\nimport { fonts } from './fonts';\n\nexport * from './ThemeEditorState';\nexport * from './thememeta';\n\ntype ThemeEditorProps = ThemeEditorStateRenderProp & {\n  enableComponentFinder?: boolean;\n  side?: 'left' | 'right';\n};\n\nexport class ThemeEditor extends React.Component<ThemeEditorProps> {\n  static defaultProps = {\n    enableComponentFinder: true,\n    side: 'right'\n  };\n\n  tabs = (enableComponent: boolean): Tab<TabKeys>[] => {\n    return [\n      { name: 'Theme', key: 'theme' },\n      enableComponent ? { name: 'Component', key: 'component' } : undefined,\n      { name: 'Presets', key: 'presets' },\n      { name: 'Download', key: 'download' }\n    ].filter(x => x) as Tab<TabKeys>[];\n  };\n\n  onChange = (themeKey: string, propName: string, isNumber?: boolean) => (e: React.ChangeEvent<HTMLInputElement>) => {\n    this.props.updateTheme({\n      [themeKey]: {\n        [propName]: isNumber ? +e.target.value : e.target.value\n      }\n    });\n  };\n\n  onFontChange = (fontKind: string) => (fontOption: any) => {\n    this.props.updateTheme({\n      fonts: {\n        [fontKind]: fontOption.value\n      } as any\n    });\n\n    if (fontOption.google) {\n      this.loadGoogleFont(fontOption.google);\n    }\n  };\n\n  onPresetChange = (preset: ThemePreset) => () => {\n    requestAnimationFrame(() => {\n      this.props.updateTheme(preset.theme, { useInitial: true });\n    });\n\n    this.props.setActivePreset(preset.name);\n\n    if (!preset.theme.fonts) {\n      return;\n    }\n    const newFont = preset.theme.fonts.sans;\n\n    const potentiallFontToLoad = fonts.filter(font => font.value === newFont)[0];\n\n    if (potentiallFontToLoad && potentiallFontToLoad.google) {\n      this.loadGoogleFont(potentiallFontToLoad.google);\n    }\n  };\n\n  onComponentThemeChange = (themeKey: string, variantKey?: string) => (key: string, value: string | object) => {\n    if (variantKey) {\n      this.props.updateTheme({\n        components: {\n          [themeKey]: {\n            variants: {\n              [variantKey]: {\n                [key]: value\n              }\n            }\n          }\n        }\n      });\n    } else {\n      this.props.updateTheme({\n        components: {\n          [themeKey]: {\n            [key]: value\n          }\n        }\n      });\n    }\n  };\n\n  loadGoogleFont(font: string) {\n    // require is inline as webfontloader does not work server side\n    // https://github.com/typekit/webfontloader/issues/383\n    const WebFontLoader = require('webfontloader');\n\n    WebFontLoader.load({\n      google: {\n        families: [font]\n      }\n    });\n  }\n\n  render() {\n    const {\n      visible,\n      toggleVisibility,\n      toggleFinder,\n      setActiveTab,\n      activeTab,\n      finderActive,\n      theme,\n      tabs,\n      toggleOpenPanel,\n      initialTheme,\n      side,\n      enableComponentFinder\n    } = this.props;\n\n    return (\n      <ThemeProvider theme={editorTheme} withoutRoot>\n        <Sidebar\n          as={Portal}\n          visible={visible}\n          side={side}\n          css={{ position: 'fixed', overflowX: 'inherit' }}\n          boxShadow=\"subtle\"\n          bg=\"white\"\n        >\n          <FlexLayout\n            flexDirection=\"column\"\n            flexWrap=\"nowrap\"\n            py=\"sm\"\n            pl=\"sm\"\n            css={{\n              width: {\n                xs: '75vw',\n                sm: 480\n              }\n            }}\n          >\n            <Tabs items={this.tabs(this.props.enableComponentFinder)} onChange={setActiveTab} active={activeTab} />\n\n            <Divider my=\"sm\" />\n\n            <Box\n              flex=\"1\"\n              css={props => ({\n                overflowY: 'auto',\n                paddingRight: 10,\n                marginRight: 6,\n                '::-webkit-scrollbar': {\n                  width: 3,\n                  backgroundColor: props.theme.colors.secondaryLight,\n                  borderRadius: props.theme.borderRadius.medium\n                },\n\n                '::-webkit-scrollbar-thumb': {\n                  borderRadius: props.theme.borderRadius.medium,\n                  backgroundColor: props.theme.colors.secondaryDark\n                }\n              })}\n            >\n              {activeTab === 'theme' && (\n                <ThemePropsEditor\n                  openPanels={tabs.theme.openPanels}\n                  toggleOpenPanel={toggleOpenPanel}\n                  onChange={this.onChange}\n                  onFontChange={this.onFontChange}\n                  theme={theme}\n                />\n              )}\n\n              {activeTab === 'component' && tabs.component.selectedComponents.length > 0 && (\n                <ComponentsEditor\n                  selectedComponents={tabs.component.selectedComponents}\n                  onComponentThemeChange={this.onComponentThemeChange}\n                  theme={theme}\n                />\n              )}\n\n              {activeTab === 'component' && tabs.component.selectedComponents.length === 0 && (\n                <Box fontSize=\"md\">\n                  There are no components selected currenty, <br />\n                  use component finder\n                  <Icon onClick={toggleFinder} mx=\"sm\" stroke={finderActive ? 'primary' : 'black'} src=\"finder\" />\n                  to select one.\n                </Box>\n              )}\n\n              {activeTab === 'download' && <ThemeDownloader currentTheme={theme} initialTheme={initialTheme} />}\n\n              {activeTab === 'presets' && (\n                <ThemePresets activePreset={tabs.presets.active} onPresetChange={this.onPresetChange} />\n              )}\n            </Box>\n          </FlexLayout>\n\n          <Box\n            position=\"absolute\"\n            {...{ [side]: '100%' }}\n            top=\"calc(50% - 35px)\"\n            display=\"flex\"\n            bg=\"white\"\n            alignItems=\"center\"\n            justifyContent=\"center\"\n            boxShadow=\"subtle\"\n            flexDirection=\"column\"\n            p=\"sm\"\n            css={\n              side === 'right'\n                ? {\n                    borderTopLeftRadius: 8,\n                    borderBottomLeftRadius: 8,\n                    boxShadow: '-2px 5px 5px rgba(0,0,0,.1)'\n                  }\n                : {\n                    borderTopRightRadius: 8,\n                    borderBottomRightRadius: 8,\n                    boxShadow: '2px 5px 5px rgba(0,0,0,.1)'\n                  }\n            }\n          >\n            <Box\n              title={`${visible ? 'Close' : 'Open'} theme editor`}\n              css={{ cursor: 'pointer' }}\n              onClick={toggleVisibility}\n            >\n              <Icon src=\"theme\" fill={visible ? 'primary' : 'black'} stroke={visible ? 'primary' : 'black'} />\n            </Box>\n            {enableComponentFinder && (\n              <>\n                <Divider m=\"xs\" css={{ width: '100%' }} />\n                <Box title=\"Select a themable component in the page to inspect its theme\" onClick={toggleFinder}>\n                  <Icon stroke={finderActive ? 'primary' : 'black'} src=\"finder\" />\n                </Box>\n              </>\n            )}\n          </Box>\n        </Sidebar>\n        {finderActive && <ComponentFinder onChange={this.props.selectComponents} />}\n      </ThemeProvider>\n    );\n  }\n}\n"],"names":["fonts","value","google","themeMeta","colors","input","type","previewCss","backgroundColor","spacing","min","step","max","unit","width","options","fontSizes","fontSize","fontWeights","lineHeights","letterSpacings","letterSpacing","breakpoints","borders","border","borderRadius","boxShadows","boxShadow","easingFunctions","transitionDurations","themeCategories","name","themeSections","typography","misc","keys","object","Object","ThemedPropEditor","themeProp","themeSection","onChange","propKey","propValue","meta","React","Dropdown","key","DropdownLabel","GridLayout","Box","DropdownMenu","map","DropdownMenuItem","ComponentEditor","Component","render","theme","themeProps","defaultThemeProps","props","mergedProps","mergeThemes","mappings","filter","mapping","undefined","prop","Text","Input","breakpointKey","ComponentsEditor","selectedComponents","onComponentThemeChange","selectedComponent","themeKey","defaultTheme","H3","components","variants","variantKey","throttle","callback","wait","context","timeout","callbackArgs","later","apply","args","window","setTimeout","getNearestThemableComponentForElement","element","maxElementHierarchyTraversal","currentTraversal","elementToCheck","startsWith","fiberNode","component","_debugOwner","memoizedProps","rect","getBoundingClientRect","parentComponent","parentDefaultTheme","parentElement","getHashCode","val","hash","length","i","charCodeAt","getHSLA","shortened","ComponentFinder","state","currentElementFromPoint","throttledOnChange","onClick","e","locatedComponent","preventDefault","stopPropagation","onScroll","setState","componentDidMount","addEventListener","componentWillUnmount","removeEventListener","elementFromPoint","document","clientX","clientY","nearestThemableComponent","requestAnimationFrame","renderOverlay","left","right","top","bottom","height","Portal","pointerEvents","zIndex","Tabs","items","active","FlexLayout","textAlign","item","cursor","Icon","strokeWidth","transitionProperty","EditorSection","section","onFontChange","NumberInput","RangeInput","font","padding","ThemePropsEditor","openPanels","toggleOpenPanel","categoryKey","category","Details","Summary","DetailsContent","editorTheme","createTheme","summary","bg","button","icons","presets","icon","finder","css","fill","download","copy","dropdownArrowDown","stroke","size","ml","dropdownArrowUp","CREATE_THEME_IMPORT","getThemeCustomizations","initialTheme","currentTheme","themeDiff","diff","JSON","stringify","withExports","customizationsSerialized","copyToClipboard","serializedCustomizations","navigator","clipboard","writeText","customizations","data","encodeURIComponent","downloader","createElement","setAttribute","click","ThemeDownloader","Button","ThemeStateContext","createContext","ThemeEditorState","constructor","setActiveTab","tabKey","activeTab","setActivePreset","presetKey","tabs","updateTheme","useInitial","themeBase","initial","activeTheme","toggleFinder","finderActive","toggleVisibility","visible","selectComponents","openThemePropsPanel","panel","subpanel","children","defaultProps","getDerivedStateFromProps","ThemePresets","activePreset","onPresetChange","useContext","Group","preset","ThemeEditor","enableComponent","x","propName","isNumber","target","fontKind","fontOption","loadGoogleFont","newFont","sans","potentiallFontToLoad","WebFontLoader","require","load","families","side","enableComponentFinder","ThemeProvider","Sidebar","position","overflowX","xs","sm","Divider","overflowY","paddingRight","marginRight","secondaryLight","medium","secondaryDark","borderTopLeftRadius","borderBottomLeftRadius","borderTopRightRadius","borderBottomRightRadius"],"mappings":"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"}