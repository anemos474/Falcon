"use strict";

var _interopRequireDefault = /*#__PURE__*/require("@babel/runtime/helpers/interopRequireDefault");

exports.__esModule = true;
exports.Form = void 0;

var _objectWithoutPropertiesLoose2 = /*#__PURE__*/_interopRequireDefault( /*#__PURE__*/require("@babel/runtime/helpers/objectWithoutPropertiesLoose"));

var _react = /*#__PURE__*/_interopRequireDefault( /*#__PURE__*/require("react"));

var _propTypes = /*#__PURE__*/_interopRequireDefault( /*#__PURE__*/require("prop-types"));

var _formik = /*#__PURE__*/require("formik");

var _FormContext = /*#__PURE__*/require("./FormContext");

var Form = function Form(_ref) {
  var i18nId = _ref.i18nId,
      autoSubmit = _ref.autoSubmit,
      restProps = (0, _objectWithoutPropertiesLoose2.default)(_ref, ["i18nId", "autoSubmit"]);

  var _useFormikContext = (0, _formik.useFormikContext)(),
      submitCount = _useFormikContext.submitCount,
      isValid = _useFormikContext.isValid,
      submitForm = _useFormikContext.submitForm,
      isSubmitting = _useFormikContext.isSubmitting;

  if (autoSubmit) {
    if (!isSubmitting && submitCount === 0 && isValid) {
      submitForm();
      return null;
    }

    if (isSubmitting && submitCount <= 1) {
      return null;
    }
  }

  return /*#__PURE__*/_react.default.createElement(_FormContext.FormContext.Provider, {
    value: {
      id: restProps.id,
      name: restProps.name,
      i18nId: i18nId
    }
  }, /*#__PURE__*/_react.default.createElement(_formik.Form, restProps));
};

exports.Form = Form;
Form.propTypes = {
  id: _propTypes.default.string.isRequired
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9Gb3Jtcy9Gb3JtLnRzeCJdLCJuYW1lcyI6WyJGb3JtIiwiaTE4bklkIiwiYXV0b1N1Ym1pdCIsInJlc3RQcm9wcyIsInN1Ym1pdENvdW50IiwiaXNWYWxpZCIsInN1Ym1pdEZvcm0iLCJpc1N1Ym1pdHRpbmciLCJpZCIsIm5hbWUiLCJwcm9wVHlwZXMiLCJQcm9wVHlwZXMiLCJzdHJpbmciLCJpc1JlcXVpcmVkIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFPTyxJQUFNQSxJQUEwQixHQUFHLFNBQTdCQSxJQUE2QixPQUEwQztBQUFBLE1BQXZDQyxNQUF1QyxRQUF2Q0EsTUFBdUM7QUFBQSxNQUEvQkMsVUFBK0IsUUFBL0JBLFVBQStCO0FBQUEsTUFBaEJDLFNBQWdCOztBQUNsRiwwQkFBMkQsK0JBQTNEO0FBQUEsTUFBUUMsV0FBUixxQkFBUUEsV0FBUjtBQUFBLE1BQXFCQyxPQUFyQixxQkFBcUJBLE9BQXJCO0FBQUEsTUFBOEJDLFVBQTlCLHFCQUE4QkEsVUFBOUI7QUFBQSxNQUEwQ0MsWUFBMUMscUJBQTBDQSxZQUExQzs7QUFFQSxNQUFJTCxVQUFKLEVBQWdCO0FBQ2QsUUFBSSxDQUFDSyxZQUFELElBQWlCSCxXQUFXLEtBQUssQ0FBakMsSUFBc0NDLE9BQTFDLEVBQW1EO0FBQ2pEQyxNQUFBQSxVQUFVO0FBQ1YsYUFBTyxJQUFQO0FBQ0Q7O0FBQ0QsUUFBSUMsWUFBWSxJQUFJSCxXQUFXLElBQUksQ0FBbkMsRUFBc0M7QUFDcEMsYUFBTyxJQUFQO0FBQ0Q7QUFDRjs7QUFFRCxzQkFDRSw2QkFBQyx3QkFBRCxDQUFhLFFBQWI7QUFDRSxJQUFBLEtBQUssRUFBRTtBQUNMSSxNQUFBQSxFQUFFLEVBQUVMLFNBQVMsQ0FBQ0ssRUFEVDtBQUVMQyxNQUFBQSxJQUFJLEVBQUVOLFNBQVMsQ0FBQ00sSUFGWDtBQUdMUixNQUFBQSxNQUFNLEVBQU5BO0FBSEs7QUFEVCxrQkFPRSw2QkFBQyxZQUFELEVBQWdCRSxTQUFoQixDQVBGLENBREY7QUFXRCxDQXhCTTs7O0FBeUJQSCxJQUFJLENBQUNVLFNBQUwsR0FBaUI7QUFDZkYsRUFBQUEsRUFBRSxFQUFFRyxtQkFBVUMsTUFBVixDQUFpQkM7QUFETixDQUFqQiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xuaW1wb3J0IHsgRm9ybSBhcyBGb3JtaWtGb3JtLCBGb3JtaWtGb3JtUHJvcHMsIHVzZUZvcm1pa0NvbnRleHQgfSBmcm9tICdmb3JtaWsnO1xuaW1wb3J0IHsgRm9ybUNvbnRleHQsIEZvcm1Db250ZXh0VmFsdWUgfSBmcm9tICcuL0Zvcm1Db250ZXh0JztcblxuZXhwb3J0IHR5cGUgRm9ybVByb3BzID0gRm9ybUNvbnRleHRWYWx1ZSAmXG4gIEZvcm1pa0Zvcm1Qcm9wcyAmIHtcbiAgICBhdXRvU3VibWl0OiBib29sZWFuO1xuICB9O1xuXG5leHBvcnQgY29uc3QgRm9ybTogUmVhY3QuU0ZDPEZvcm1Qcm9wcz4gPSAoeyBpMThuSWQsIGF1dG9TdWJtaXQsIC4uLnJlc3RQcm9wcyB9KSA9PiB7XG4gIGNvbnN0IHsgc3VibWl0Q291bnQsIGlzVmFsaWQsIHN1Ym1pdEZvcm0sIGlzU3VibWl0dGluZyB9ID0gdXNlRm9ybWlrQ29udGV4dCgpO1xuXG4gIGlmIChhdXRvU3VibWl0KSB7XG4gICAgaWYgKCFpc1N1Ym1pdHRpbmcgJiYgc3VibWl0Q291bnQgPT09IDAgJiYgaXNWYWxpZCkge1xuICAgICAgc3VibWl0Rm9ybSgpO1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGlmIChpc1N1Ym1pdHRpbmcgJiYgc3VibWl0Q291bnQgPD0gMSkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8Rm9ybUNvbnRleHQuUHJvdmlkZXJcbiAgICAgIHZhbHVlPXt7XG4gICAgICAgIGlkOiByZXN0UHJvcHMuaWQsXG4gICAgICAgIG5hbWU6IHJlc3RQcm9wcy5uYW1lLFxuICAgICAgICBpMThuSWRcbiAgICAgIH19XG4gICAgPlxuICAgICAgPEZvcm1pa0Zvcm0gey4uLnJlc3RQcm9wc30gLz5cbiAgICA8L0Zvcm1Db250ZXh0LlByb3ZpZGVyPlxuICApO1xufTtcbkZvcm0ucHJvcFR5cGVzID0ge1xuICBpZDogUHJvcFR5cGVzLnN0cmluZy5pc1JlcXVpcmVkXG59O1xuIl19