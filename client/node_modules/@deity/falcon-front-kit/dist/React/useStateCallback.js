"use strict";

exports.__esModule = true;
exports.useStateCallback = void 0;

var _react = /*#__PURE__*/require("react");

var _usePrevious = /*#__PURE__*/require("./usePrevious");

/**
 * React hook for keeping component state like `useState`,
 * additionally expose `callback` when state is changed
 * @param initialState
 * @param callback
 */
var useStateCallback = function useStateCallback(initialState, callback) {
  var _useState = (0, _react.useState)(initialState),
      state = _useState[0],
      setState = _useState[1];

  var previousState = (0, _usePrevious.usePrevious)(state);
  (0, _react.useLayoutEffect)(function () {
    if (state !== previousState) {
      callback(state, previousState);
    }
  }, [state, callback, previousState]);
  return [state, setState];
};

exports.useStateCallback = useStateCallback;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9SZWFjdC91c2VTdGF0ZUNhbGxiYWNrLnRzIl0sIm5hbWVzIjpbInVzZVN0YXRlQ2FsbGJhY2siLCJpbml0aWFsU3RhdGUiLCJjYWxsYmFjayIsInN0YXRlIiwic2V0U3RhdGUiLCJwcmV2aW91c1N0YXRlIl0sIm1hcHBpbmdzIjoiOzs7OztBQUFBOztBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPLElBQU1BLGdCQUFnQixHQUFHLFNBQW5CQSxnQkFBbUIsQ0FDOUJDLFlBRDhCLEVBRTlCQyxRQUY4QixFQUdPO0FBQ3JDLGtCQUEwQixxQkFBU0QsWUFBVCxDQUExQjtBQUFBLE1BQU9FLEtBQVA7QUFBQSxNQUFjQyxRQUFkOztBQUNBLE1BQU1DLGFBQWEsR0FBRyw4QkFBWUYsS0FBWixDQUF0QjtBQUVBLDhCQUFnQixZQUFNO0FBQ3BCLFFBQUlBLEtBQUssS0FBS0UsYUFBZCxFQUE2QjtBQUMzQkgsTUFBQUEsUUFBUSxDQUFDQyxLQUFELEVBQVFFLGFBQVIsQ0FBUjtBQUNEO0FBQ0YsR0FKRCxFQUlHLENBQUNGLEtBQUQsRUFBUUQsUUFBUixFQUFrQkcsYUFBbEIsQ0FKSDtBQU1BLFNBQU8sQ0FBQ0YsS0FBRCxFQUFRQyxRQUFSLENBQVA7QUFDRCxDQWRNIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdXNlU3RhdGUsIHVzZUxheW91dEVmZmVjdCwgRGlzcGF0Y2gsIFNldFN0YXRlQWN0aW9uIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgdXNlUHJldmlvdXMgfSBmcm9tICcuL3VzZVByZXZpb3VzJztcblxuLyoqXG4gKiBSZWFjdCBob29rIGZvciBrZWVwaW5nIGNvbXBvbmVudCBzdGF0ZSBsaWtlIGB1c2VTdGF0ZWAsXG4gKiBhZGRpdGlvbmFsbHkgZXhwb3NlIGBjYWxsYmFja2Agd2hlbiBzdGF0ZSBpcyBjaGFuZ2VkXG4gKiBAcGFyYW0gaW5pdGlhbFN0YXRlXG4gKiBAcGFyYW0gY2FsbGJhY2tcbiAqL1xuZXhwb3J0IGNvbnN0IHVzZVN0YXRlQ2FsbGJhY2sgPSA8Uz4oXG4gIGluaXRpYWxTdGF0ZTogUyB8ICgoKSA9PiBTKSxcbiAgY2FsbGJhY2s6IChzdGF0ZTogUywgcHJldmlvdXNTdGF0ZT86IFMpID0+IHZvaWRcbik6IFtTLCBEaXNwYXRjaDxTZXRTdGF0ZUFjdGlvbjxTPj5dID0+IHtcbiAgY29uc3QgW3N0YXRlLCBzZXRTdGF0ZV0gPSB1c2VTdGF0ZShpbml0aWFsU3RhdGUpO1xuICBjb25zdCBwcmV2aW91c1N0YXRlID0gdXNlUHJldmlvdXMoc3RhdGUpO1xuXG4gIHVzZUxheW91dEVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKHN0YXRlICE9PSBwcmV2aW91c1N0YXRlKSB7XG4gICAgICBjYWxsYmFjayhzdGF0ZSwgcHJldmlvdXNTdGF0ZSk7XG4gICAgfVxuICB9LCBbc3RhdGUsIGNhbGxiYWNrLCBwcmV2aW91c1N0YXRlXSk7XG5cbiAgcmV0dXJuIFtzdGF0ZSwgc2V0U3RhdGVdO1xufTtcbiJdfQ==