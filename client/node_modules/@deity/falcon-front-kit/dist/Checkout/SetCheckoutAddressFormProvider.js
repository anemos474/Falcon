"use strict";

var _interopRequireDefault = /*#__PURE__*/require("@babel/runtime/helpers/interopRequireDefault");

exports.__esModule = true;
exports.checkoutAddressToSetCheckoutAddressFormValues = exports.SetCheckoutAddressFormProvider = void 0;

var _extends2 = /*#__PURE__*/_interopRequireDefault( /*#__PURE__*/require("@babel/runtime/helpers/extends"));

var _objectWithoutPropertiesLoose2 = /*#__PURE__*/_interopRequireDefault( /*#__PURE__*/require("@babel/runtime/helpers/objectWithoutPropertiesLoose"));

var _react = /*#__PURE__*/_interopRequireDefault( /*#__PURE__*/require("react"));

var _propTypes = /*#__PURE__*/_interopRequireDefault( /*#__PURE__*/require("prop-types"));

var _formik = /*#__PURE__*/require("formik");

var _falconData = /*#__PURE__*/require("@deity/falcon-data");

var _React = /*#__PURE__*/require("../React");

var INITIAL_VALUES = {
  email: '',
  firstname: '',
  lastname: '',
  street1: '',
  street2: '',
  postcode: '',
  city: '',
  country: undefined,
  region: undefined,
  company: '',
  telephone: '',
  saveInAddressBook: false
};

var SetCheckoutAddressFormProvider = function SetCheckoutAddressFormProvider(props) {
  var initialValues = props.initialValues,
      setAddress = props.setAddress,
      address = props.address,
      onSuccess = props.onSuccess,
      mutationOptions = props.mutationOptions,
      formikProps = (0, _objectWithoutPropertiesLoose2.default)(props, ["initialValues", "setAddress", "address", "onSuccess", "mutationOptions"]);
  var isMounted = (0, _React.useMounted)();
  var getUserError = (0, _falconData.useGetUserError)();
  return /*#__PURE__*/_react.default.createElement(_formik.Formik, (0, _extends2.default)({
    initialStatus: {},
    initialValues: address ? checkoutAddressToSetCheckoutAddressFormValues(address) : initialValues,
    enableReinitialize: true,
    onSubmit: function onSubmit(_ref, _ref2) {
      var setSubmitting = _ref2.setSubmitting,
          setStatus = _ref2.setStatus;
      var street1 = _ref.street1,
          street2 = _ref.street2,
          values = (0, _objectWithoutPropertiesLoose2.default)(_ref, ["street1", "street2"]);
      return setAddress(Object.assign({}, values, {
        street: [street1, street2].filter(Boolean)
      }), mutationOptions).then(function () {
        var successData = Object.assign({}, values, {
          street: [street1, street2].filter(Boolean)
        });

        if (isMounted.current) {
          setStatus({
            data: successData
          });
          setSubmitting(false);
        }

        return onSuccess && onSuccess(successData);
      }).catch(function (e) {
        var error = getUserError(e);

        if (error.length && isMounted.current) {
          setStatus({
            error: error
          });
          setSubmitting(false);
        }
      });
    }
  }, formikProps));
};

exports.SetCheckoutAddressFormProvider = SetCheckoutAddressFormProvider;
SetCheckoutAddressFormProvider.defaultProps = {
  // eslint-disable-next-line react/default-props-match-prop-types
  initialValues: /*#__PURE__*/Object.assign({}, INITIAL_VALUES)
};
SetCheckoutAddressFormProvider.propTypes = {
  setAddress: _propTypes.default.func.isRequired
};

var checkoutAddressToSetCheckoutAddressFormValues = function checkoutAddressToSetCheckoutAddressFormValues(address) {
  if (!address) {
    return INITIAL_VALUES;
  }

  var _typename$address = Object.assign({
    __typename: undefined
  }, address),
      __typename = _typename$address.__typename,
      street = _typename$address.street,
      rest = (0, _objectWithoutPropertiesLoose2.default)(_typename$address, ["__typename", "street"]);

  return Object.assign({
    street1: street.length > 0 ? street[0] : undefined,
    street2: street.length > 1 ? street[1] : undefined
  }, rest);
};

exports.checkoutAddressToSetCheckoutAddressFormValues = checkoutAddressToSetCheckoutAddressFormValues;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9DaGVja291dC9TZXRDaGVja291dEFkZHJlc3NGb3JtUHJvdmlkZXIudHN4Il0sIm5hbWVzIjpbIklOSVRJQUxfVkFMVUVTIiwiZW1haWwiLCJmaXJzdG5hbWUiLCJsYXN0bmFtZSIsInN0cmVldDEiLCJzdHJlZXQyIiwicG9zdGNvZGUiLCJjaXR5IiwiY291bnRyeSIsInVuZGVmaW5lZCIsInJlZ2lvbiIsImNvbXBhbnkiLCJ0ZWxlcGhvbmUiLCJzYXZlSW5BZGRyZXNzQm9vayIsIlNldENoZWNrb3V0QWRkcmVzc0Zvcm1Qcm92aWRlciIsInByb3BzIiwiaW5pdGlhbFZhbHVlcyIsInNldEFkZHJlc3MiLCJhZGRyZXNzIiwib25TdWNjZXNzIiwibXV0YXRpb25PcHRpb25zIiwiZm9ybWlrUHJvcHMiLCJpc01vdW50ZWQiLCJnZXRVc2VyRXJyb3IiLCJjaGVja291dEFkZHJlc3NUb1NldENoZWNrb3V0QWRkcmVzc0Zvcm1WYWx1ZXMiLCJzZXRTdWJtaXR0aW5nIiwic2V0U3RhdHVzIiwidmFsdWVzIiwic3RyZWV0IiwiZmlsdGVyIiwiQm9vbGVhbiIsInRoZW4iLCJzdWNjZXNzRGF0YSIsImN1cnJlbnQiLCJkYXRhIiwiY2F0Y2giLCJlIiwiZXJyb3IiLCJsZW5ndGgiLCJkZWZhdWx0UHJvcHMiLCJwcm9wVHlwZXMiLCJQcm9wVHlwZXMiLCJmdW5jIiwiaXNSZXF1aXJlZCIsIl9fdHlwZW5hbWUiLCJyZXN0Il0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUFBOztBQUNBOztBQUNBOztBQUVBOztBQUdBOztBQW1CQSxJQUFNQSxjQUE0QyxHQUFHO0FBQ25EQyxFQUFBQSxLQUFLLEVBQUUsRUFENEM7QUFFbkRDLEVBQUFBLFNBQVMsRUFBRSxFQUZ3QztBQUduREMsRUFBQUEsUUFBUSxFQUFFLEVBSHlDO0FBSW5EQyxFQUFBQSxPQUFPLEVBQUUsRUFKMEM7QUFLbkRDLEVBQUFBLE9BQU8sRUFBRSxFQUwwQztBQU1uREMsRUFBQUEsUUFBUSxF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QUFPLEVBQUk7QUFDdEgsTUFBSSxDQUFDQSxPQUFMLEVBQWM7QUFDWixXQUFPbEIsY0FBUDtBQUNEOztBQUVEO0FBQTBDNEMsSUFBQUEsVUFBVSxFQUFFbkM7QUFBdEQsS0FBb0VTLE9BQXBFO0FBQUEsTUFBUTBCLFVBQVIscUJBQVFBLFVBQVI7QUFBQSxNQUFvQmhCLE1BQXBCLHFCQUFvQkEsTUFBcEI7QUFBQSxNQUErQmlCLElBQS9COztBQUVBO0FBQ0V6QyxJQUFBQSxPQUFPLEVBQUV3QixNQUFNLENBQUNVLE1BQVAsR0FBZ0IsQ0FBaEIsR0FBb0JWLE1BQU0sQ0FBQyxDQUFELENBQTFCLEdBQWdDbkIsU0FEM0M7QUFFRUosSUFBQUEsT0FBTyxFQUFFdUIsTUFBTSxDQUFDVSxNQUFQLEdBQWdCLENBQWhCLEdBQW9CVixNQUFNLENBQUMsQ0FBRCxDQUExQixHQUFnQ25CO0FBRjNDLEtBR0tvQyxJQUhMO0FBS0QsQ0FaTSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xuaW1wb3J0IHsgRm9ybWlrIH0gZnJvbSAnZm9ybWlrJztcbmltcG9ydCB7IEFkZHJlc3MsIENvdW50cnksIFJlZ2lvbiB9IGZyb20gJ0BkZWl0eS9mYWxjb24tc2hvcC1leHRlbnNpb24nO1xuaW1wb3J0IHsgdXNlR2V0VXNlckVycm9yIH0gZnJvbSAnQGRlaXR5L2ZhbGNvbi1kYXRhJztcbmltcG9ydCB7IFNldFNoaXBwaW5nQWRkcmVzc1Jlc3BvbnNlLCBTZXRCaWxsaW5nQWRkcmVzc1Jlc3BvbnNlIH0gZnJvbSAnQGRlaXR5L2ZhbGNvbi1zaG9wLWRhdGEnO1xuaW1wb3J0IHsgRm9ybVByb3ZpZGVyUHJvcHMgfSBmcm9tICcuLi9Gb3Jtcyc7XG5pbXBvcnQgeyB1c2VNb3VudGVkIH0gZnJvbSAnLi4vUmVhY3QnO1xuaW1wb3J0IHsgQ2hlY2tvdXRBZGRyZXNzIH0gZnJvbSAnLi9DaGVja291dEFkZHJlc3MnO1xuaW1wb3J0IHsgQ2hlY2tvdXRPcGVyYXRpb25GdW5jdGlvbiB9IGZyb20gJy4vQ2hlY2tvdXRPcGVyYXRpb24nO1xuXG5leHBvcnQgdHlwZSBTZXRDaGVja291dEFkZHJlc3NGb3JtVmFsdWVzID0ge1xuICBlbWFpbD86IHN0cmluZztcbiAgZmlyc3RuYW1lOiBzdHJpbmc7XG4gIGxhc3RuYW1lOiBzdHJpbmc7XG4gIHN0cmVldDE/OiBzdHJpbmc7XG4gIHN0cmVldDI/OiBzdHJpbmc7XG4gIHBvc3Rjb2RlOiBzdHJpbmc7XG4gIGNpdHk6IHN0cmluZztcbiAgY291bnRyeTogQ291bnRyeTtcbiAgcmVnaW9uPzogUmVnaW9uO1xuICBjb21wYW55Pzogc3RyaW5nO1xuICB0ZWxlcGhvbmU/OiBzdHJpbmc7XG4gIHNhdmVJbkFkZHJlc3NCb29rPzogYm9vbGVhbjtcbn07XG5cbmNvbnN0IElOSVRJQUxfVkFMVUVTOiBTZXRDaGVja291dEFkZHJlc3NGb3JtVmFsdWVzID0ge1xuICBlbWFpbDogJycsXG4gIGZpcnN0bmFtZTogJycsXG4gIGxhc3RuYW1lOiAnJyxcbiAgc3RyZWV0MTogJycsXG4gIHN0cmVldDI6ICcnLFxuICBwb3N0Y29kZTogJycsXG4gIGNpdHk6ICcnLFxuICBjb3VudHJ5OiB1bmRlZmluZWQsXG4gIHJlZ2lvbjogdW5kZWZpbmVkLFxuICBjb21wYW55OiAnJyxcbiAgdGVsZXBob25lOiAnJyxcbiAgc2F2ZUluQWRkcmVzc0Jvb2s6IGZhbHNlXG59O1xuXG5leHBvcnQgdHlwZSBTZXRDaGVja291dEFkZHJlc3NGb3JtUHJvdmlkZXJQcm9wcyA9IEZvcm1Qcm92aWRlclByb3BzPFNldENoZWNrb3V0QWRkcmVzc0Zvcm1WYWx1ZXMsIENoZWNrb3V0QWRkcmVzcz4gJiB7XG4gIHNldEFkZHJlc3M6IENoZWNrb3V0T3BlcmF0aW9uRnVuY3Rpb248U2V0U2hpcHBpbmdBZGRyZXNzUmVzcG9uc2UgfCBTZXRCaWxsaW5nQWRkcmVzc1Jlc3BvbnNlLCBDaGVja291dEFkZHJlc3M+O1xuICBhZGRyZXNzPzogQ2hlY2tvdXRBZGRyZXNzIHwgQWRkcmVzcztcbn07XG5leHBvcnQgY29uc3QgU2V0Q2hlY2tvdXRBZGRyZXNzRm9ybVByb3ZpZGVyOiBSZWFjdC5TRkM8U2V0Q2hlY2tvdXRBZGRyZXNzRm9ybVByb3ZpZGVyUHJvcHM+ID0gcHJvcHMgPT4ge1xuICBjb25zdCB7IGluaXRpYWxWYWx1ZXMsIHNldEFkZHJlc3MsIGFkZHJlc3MsIG9uU3VjY2VzcywgbXV0YXRpb25PcHRpb25zLCAuLi5mb3JtaWtQcm9wcyB9ID0gcHJvcHM7XG4gIGNvbnN0IGlzTW91bnRlZCA9IHVzZU1vdW50ZWQoKTtcbiAgY29uc3QgZ2V0VXNlckVycm9yID0gdXNlR2V0VXNlckVycm9yKCk7XG5cbiAgcmV0dXJuIChcbiAgICA8Rm9ybWlrXG4gICAgICBpbml0aWFsU3RhdHVzPXt7fX1cbiAgICAgIGluaXRpYWxWYWx1ZXM9e2FkZHJlc3MgPyBjaGVja291dEFkZHJlc3NUb1NldENoZWNrb3V0QWRkcmVzc0Zvcm1WYWx1ZXMoYWRkcmVzcykgOiBpbml0aWFsVmFsdWVzfVxuICAgICAgZW5hYmxlUmVpbml0aWFsaXplXG4gICAgICBvblN1Ym1pdD17KHsgc3RyZWV0MSwgc3RyZWV0MiwgLi4udmFsdWVzIH0sIHsgc2V0U3VibWl0dGluZywgc2V0U3RhdHVzIH0pID0+XG4gICAgICAgIHNldEFkZHJlc3MoXG4gICAgICAgICAge1xuICAgICAgICAgICAgLi4udmFsdWVzLFxuICAgICAgICAgICAgc3RyZWV0OiBbc3RyZWV0MSwgc3RyZWV0Ml0uZmlsdGVyKEJvb2xlYW4pXG4gICAgICAgICAgfSxcbiAgICAgICAgICBtdXRhdGlvbk9wdGlvbnNcbiAgICAgICAgKVxuICAgICAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHN1Y2Nlc3NEYXRhID0ge1xuICAgICAgICAgICAgICAuLi52YWx1ZXMsXG4gICAgICAgICAgICAgIHN0cmVldDogW3N0cmVldDEsIHN0cmVldDJdLmZpbHRlcihCb29sZWFuKVxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgaWYgKGlzTW91bnRlZC5jdXJyZW50KSB7XG4gICAgICAgICAgICAgIHNldFN0YXR1cyh7IGRhdGE6IHN1Y2Nlc3NEYXRhIH0pO1xuICAgICAgICAgICAgICBzZXRTdWJtaXR0aW5nKGZhbHNlKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIG9uU3VjY2VzcyAmJiBvblN1Y2Nlc3Moc3VjY2Vzc0RhdGEpO1xuICAgICAgICAgIH0pXG4gICAgICAgICAgLmNhdGNoKGUgPT4ge1xuICAgICAgICAgICAgY29uc3QgZXJyb3IgPSBnZXRVc2VyRXJyb3IoZSk7XG4gICAgICAgICAgICBpZiAoZXJyb3IubGVuZ3RoICYmIGlzTW91bnRlZC5jdXJyZW50KSB7XG4gICAgICAgICAgICAgIHNldFN0YXR1cyh7IGVycm9yIH0pO1xuICAgICAgICAgICAgICBzZXRTdWJtaXR0aW5nKGZhbHNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KVxuICAgICAgfVxuICAgICAgey4uLmZvcm1pa1Byb3BzfVxuICAgIC8+XG4gICk7XG59O1xuU2V0Q2hlY2tvdXRBZGRyZXNzRm9ybVByb3ZpZGVyLmRlZmF1bHRQcm9wcyA9IHtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHJlYWN0L2RlZmF1bHQtcHJvcHMtbWF0Y2gtcHJvcC10eXBlc1xuICBpbml0aWFsVmFsdWVzOiB7IC4uLklOSVRJQUxfVkFMVUVTIH1cbn07XG5TZXRDaGVja291dEFkZHJlc3NGb3JtUHJvdmlkZXIucHJvcFR5cGVzID0ge1xuICBzZXRBZGRyZXNzOiBQcm9wVHlwZXMuZnVuYy5pc1JlcXVpcmVkXG59O1xuXG5leHBvcnQgaW50ZXJmYWNlIElDaGVja291dEFkZHJlc3NUb1NldENoZWNrb3V0QWRkcmVzc0Zvcm1WYWx1ZXMge1xuICAoYWRkcmVzcz86IENoZWNrb3V0QWRkcmVzcyB8IEFkZHJlc3MpOiBTZXRDaGVja291dEFkZHJlc3NGb3JtVmFsdWVzO1xufVxuZXhwb3J0IGNvbnN0IGNoZWNrb3V0QWRkcmVzc1RvU2V0Q2hlY2tvdXRBZGRyZXNzRm9ybVZhbHVlczogSUNoZWNrb3V0QWRkcmVzc1RvU2V0Q2hlY2tvdXRBZGRyZXNzRm9ybVZhbHVlcyA9IGFkZHJlc3MgPT4ge1xuICBpZiAoIWFkZHJlc3MpIHtcbiAgICByZXR1cm4gSU5JVElBTF9WQUxVRVM7XG4gIH1cblxuICBjb25zdCB7IF9fdHlwZW5hbWUsIHN0cmVldCwgLi4ucmVzdCB9ID0geyBfX3R5cGVuYW1lOiB1bmRlZmluZWQsIC4uLmFkZHJlc3MgfTtcblxuICByZXR1cm4ge1xuICAgIHN0cmVldDE6IHN0cmVldC5sZW5ndGggPiAwID8gc3RyZWV0WzBdIDogdW5kZWZpbmVkLFxuICAgIHN0cmVldDI6IHN0cmVldC5sZW5ndGggPiAxID8gc3RyZWV0WzFdIDogdW5kZWZpbmVkLFxuICAgIC4uLnJlc3RcbiAgfTtcbn07XG4iXX0=