"use strict";

var _interopRequireDefault = /*#__PURE__*/require("@babel/runtime/helpers/interopRequireDefault");

exports.__esModule = true;
exports.FiltersSummary = void 0;

var _react = /*#__PURE__*/_interopRequireDefault( /*#__PURE__*/require("react"));

var _falconFrontKit = /*#__PURE__*/require("@deity/falcon-front-kit");

var _SelectedFilterItemLayout = /*#__PURE__*/require("./SelectedFilterItemLayout");

var _SelectedFilterList = /*#__PURE__*/require("./SelectedFilterList");

var FiltersSummary = function FiltersSummary(_ref) {
  var data = _ref.data;
  return /*#__PURE__*/_react.default.createElement(_falconFrontKit.SearchConsumer, null, function (_ref2) {
    var filters = _ref2.state.filters,
        removeFilter = _ref2.removeFilter;

    if (!filters.length) {
      return null;
    }

    return /*#__PURE__*/_react.default.createElement(_SelectedFilterList.SelectedFilterList, null, data.map(function (_ref3) {
      var field = _ref3.field,
          title = _ref3.title;
      var selectedFilterOptions = (0, _falconFrontKit.getSelectedFilterOptionsFor)(data, field);

      if (selectedFilterOptions.length === 0) {
        return null;
      }

      return /*#__PURE__*/_react.default.createElement(_SelectedFilterItemLayout.SelectedFilterItemLayout, {
        key: field,
        onClick: function onClick() {
          return removeFilter(field);
        }
      }, title, ": ", selectedFilterOptions.map(function (x) {
        return x.title || x.value;
      }).join(', '));
    }));
  });
};

exports.FiltersSummary = FiltersSummary;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9GaWx0ZXJzL0ZpbHRlcnNTdW1tYXJ5LnRzeCJdLCJuYW1lcyI6WyJGaWx0ZXJzU3VtbWFyeSIsImRhdGEiLCJmaWx0ZXJzIiwic3RhdGUiLCJyZW1vdmVGaWx0ZXIiLCJsZW5ndGgiLCJtYXAiLCJmaWVsZCIsInRpdGxlIiwic2VsZWN0ZWRGaWx0ZXJPcHRpb25zIiwieCIsInZhbHVlIiwiam9pbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUNBOztBQUNBOztBQUNBOztBQU1PLElBQU1BLGNBQThDLEdBQUcsU0FBakRBLGNBQWlEO0FBQUEsTUFBR0MsSUFBSCxRQUFHQSxJQUFIO0FBQUEsc0JBQzVELDZCQUFDLDhCQUFELFFBQ0csaUJBQTBDO0FBQUEsUUFBOUJDLE9BQThCLFNBQXZDQyxLQUF1QyxDQUE5QkQsT0FBOEI7QUFBQSxRQUFuQkUsWUFBbUIsU0FBbkJBLFlBQW1COztBQUN6QyxRQUFJLENBQUNGLE9BQU8sQ0FBQ0csTUFBYixFQUFxQjtBQUNuQixhQUFPLElBQVA7QUFDRDs7QUFFRCx3QkFDRSw2QkFBQyxzQ0FBRCxRQUNHSixJQUFJLENBQUNLLEdBQUwsQ0FBUyxpQkFBc0I7QUFBQSxVQUFuQkMsS0FBbUIsU0FBbkJBLEtBQW1CO0FBQUEsVUFBWkMsS0FBWSxTQUFaQSxLQUFZO0FBQzlCLFVBQU1DLHFCQUFxQixHQUFHLGlEQUE0QlIsSUFBNUIsRUFBa0NNLEtBQWxDLENBQTlCOztBQUVBLFVBQUlFLHFCQUFxQixDQUFDSixNQUF0QixLQUFpQyxDQUFyQyxFQUF3QztBQUN0QyxlQUFPLElBQVA7QUFDRDs7QUFFRCwwQkFDRSw2QkFBQyxrREFBRDtBQUEwQixRQUFBLEdBQUcsRUFBRUUsS0FBL0I7QUFBc0MsUUFBQSxPQUFPLEVBQUU7QUFBQSxpQkFBTUgsWUFBWSxDQUFDRyxLQUFELENBQWxCO0FBQUE7QUFBL0MsU0FDR0MsS0FESCxRQUNZQyxxQkFBcUIsQ0FBQ0gsR0FBdEIsQ0FBMEIsVUFBQUksQ0FBQztBQUFBLGVBQUlBLENBQUMsQ0FBQ0YsS0FBRixJQUFXRSxDQUFDLENBQUNDLEtBQWpCO0FBQUEsT0FBM0IsRUFBbURDLElBQW5ELENBQXdELElBQXhELENBRFosQ0FERjtBQUtELEtBWkEsQ0FESCxDQURGO0FBaUJELEdBdkJILENBRDREO0FBQUEsQ0FBdkQiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgU2VhcmNoQ29uc3VtZXIsIEZpbHRlckRhdGEsIGdldFNlbGVjdGVkRmlsdGVyT3B0aW9uc0ZvciB9IGZyb20gJ0BkZWl0eS9mYWxjb24tZnJvbnQta2l0JztcbmltcG9ydCB7IFNlbGVjdGVkRmlsdGVySXRlbUxheW91dCB9IGZyb20gJy4vU2VsZWN0ZWRGaWx0ZXJJdGVtTGF5b3V0JztcbmltcG9ydCB7IFNlbGVjdGVkRmlsdGVyTGlzdCB9IGZyb20gJy4vU2VsZWN0ZWRGaWx0ZXJMaXN0JztcblxuZXhwb3J0IHR5cGUgRmlsdGVyc1N1bW1hcnlQcm9wcyA9IHtcbiAgZGF0YTogRmlsdGVyRGF0YVtdO1xufTtcblxuZXhwb3J0IGNvbnN0IEZpbHRlcnNTdW1tYXJ5OiBSZWFjdC5TRkM8RmlsdGVyc1N1bW1hcnlQcm9wcz4gPSAoeyBkYXRhIH0pID0+IChcbiAgPFNlYXJjaENvbnN1bWVyPlxuICAgIHsoeyBzdGF0ZTogeyBmaWx0ZXJzIH0sIHJlbW92ZUZpbHRlciB9KSA9PiB7XG4gICAgICBpZiAoIWZpbHRlcnMubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gKFxuICAgICAgICA8U2VsZWN0ZWRGaWx0ZXJMaXN0PlxuICAgICAgICAgIHtkYXRhLm1hcCgoeyBmaWVsZCwgdGl0bGUgfSkgPT4ge1xuICAgICAgICAgICAgY29uc3Qgc2VsZWN0ZWRGaWx0ZXJPcHRpb25zID0gZ2V0U2VsZWN0ZWRGaWx0ZXJPcHRpb25zRm9yKGRhdGEsIGZpZWxkKTtcblxuICAgICAgICAgICAgaWYgKHNlbGVjdGVkRmlsdGVyT3B0aW9ucy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgIDxTZWxlY3RlZEZpbHRlckl0ZW1MYXlvdXQga2V5PXtmaWVsZH0gb25DbGljaz17KCkgPT4gcmVtb3ZlRmlsdGVyKGZpZWxkKX0+XG4gICAgICAgICAgICAgICAge3RpdGxlfToge3NlbGVjdGVkRmlsdGVyT3B0aW9ucy5tYXAoeCA9PiB4LnRpdGxlIHx8IHgudmFsdWUpLmpvaW4oJywgJyl9XG4gICAgICAgICAgICAgIDwvU2VsZWN0ZWRGaWx0ZXJJdGVtTGF5b3V0PlxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9KX1cbiAgICAgICAgPC9TZWxlY3RlZEZpbHRlckxpc3Q+XG4gICAgICApO1xuICAgIH19XG4gIDwvU2VhcmNoQ29uc3VtZXI+XG4pO1xuIl19