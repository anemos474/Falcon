"use strict";

var _interopRequireDefault = /*#__PURE__*/require("@babel/runtime/helpers/interopRequireDefault");

exports.__esModule = true;
exports.SignUpForm = void 0;

var _extends2 = /*#__PURE__*/_interopRequireDefault( /*#__PURE__*/require("@babel/runtime/helpers/extends"));

var _objectWithoutPropertiesLoose2 = /*#__PURE__*/_interopRequireDefault( /*#__PURE__*/require("@babel/runtime/helpers/objectWithoutPropertiesLoose"));

var _react = /*#__PURE__*/_interopRequireDefault( /*#__PURE__*/require("react"));

var _falconFrontKit = /*#__PURE__*/require("@deity/falcon-front-kit");

var _Error = /*#__PURE__*/require("../Error");

var _Forms = /*#__PURE__*/require("../Forms");

var SignUpForm = function SignUpForm(_ref) {
  var onSuccess = _ref.onSuccess,
      formProps = (0, _objectWithoutPropertiesLoose2.default)(_ref, ["onSuccess"]);
  return /*#__PURE__*/_react.default.createElement(_falconFrontKit.SignUpFormProvider, {
    onSuccess: onSuccess
  }, function (_ref2) {
    var status = _ref2.status,
        values = _ref2.values;
    return /*#__PURE__*/_react.default.createElement(_Forms.Form, (0, _extends2.default)({
      id: "sign-up",
      i18nId: "signUp"
    }, formProps), /*#__PURE__*/_react.default.createElement(_Forms.FormField, {
      name: "firstname",
      type: "text",
      required: true,
      autoComplete: "given-name"
    }), /*#__PURE__*/_react.default.createElement(_Forms.FormField, {
      name: "lastname",
      type: "text",
      required: true,
      autoComplete: "family-name"
    }), /*#__PURE__*/_react.default.createElement(_Forms.FormField, {
      name: "email",
      type: "email",
      required: true,
      autoComplete: "email"
    }), /*#__PURE__*/_react.default.createElement(_Forms.FormField, {
      name: "password",
      required: true,
      type: "password"
    }, function (_ref3) {
      var field = _ref3.field;
      return /*#__PURE__*/_react.default.createElement(_Forms.PasswordRevealInput, field);
    }), /*#__PURE__*/_react.default.createElement(_Forms.FormField, {
      name: "confirmPassword",
      type: "password",
      validate: [_falconFrontKit.requiredValidator, (0, _falconFrontKit.confirmPasswordValidator)(values.password)]
    }, function (_ref4) {
      var field = _ref4.field;
      return /*#__PURE__*/_react.default.createElement(_Forms.PasswordRevealInput, field);
    }), /*#__PURE__*/_react.default.createElement(_Forms.FormSubmit, null), /*#__PURE__*/_react.default.createElement(_Error.ErrorSummary, {
      errors: status.error
    }));
  });
};

exports.SignUpForm = SignUpForm;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9BY2NvdW50L1NpZ25VcEZvcm0udHN4Il0sIm5hbWVzIjpbIlNpZ25VcEZvcm0iLCJvblN1Y2Nlc3MiLCJmb3JtUHJvcHMiLCJzdGF0dXMiLCJ2YWx1ZXMiLCJmaWVsZCIsInJlcXVpcmVkVmFsaWRhdG9yIiwicGFzc3dvcmQiLCJlcnJvciJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFNTyxJQUFNQSxVQUFxQyxHQUFHLFNBQXhDQSxVQUF3QyxPQUFpQztBQUFBLE1BQTlCQyxTQUE4QixRQUE5QkEsU0FBOEI7QUFBQSxNQUFoQkMsU0FBZ0I7QUFDcEYsc0JBQ0UsNkJBQUMsa0NBQUQ7QUFBb0IsSUFBQSxTQUFTLEVBQUVEO0FBQS9CLEtBQ0c7QUFBQSxRQUFHRSxNQUFILFNBQUdBLE1BQUg7QUFBQSxRQUFXQyxNQUFYLFNBQVdBLE1BQVg7QUFBQSx3QkFDQyw2QkFBQyxXQUFEO0FBQU0sTUFBQSxFQUFFLEVBQUMsU0FBVDtBQUFtQixNQUFBLE1BQU0sRUFBQztBQUExQixPQUF1Q0YsU0FBdkMsZ0JBQ0UsNkJBQUMsZ0JBQUQ7QUFBVyxNQUFBLElBQUksRUFBQyxXQUFoQjtBQUE0QixNQUFBLElBQUksRUFBQyxNQUFqQztBQUF3QyxNQUFBLFFBQVEsTUFBaEQ7QUFBaUQsTUFBQSxZQUFZLEVBQUM7QUFBOUQsTUFERixlQUVFLDZCQUFDLGdCQUFEO0FBQVcsTUFBQSxJQUFJLEVBQUMsVUFBaEI7QUFBMkIsTUFBQSxJQUFJLEVBQUMsTUFBaEM7QUFBdUMsTUFBQSxRQUFRLE1BQS9DO0FBQWdELE1BQUEsWUFBWSxFQUFDO0FBQTdELE1BRkYsZUFHRSw2QkFBQyxnQkFBRDtBQUFXLE1BQUEsSUFBSSxFQUFDLE9BQWhCO0FBQXdCLE1BQUEsSUFBSSxFQUFDLE9BQTdCO0FBQXFDLE1BQUEsUUFBUSxNQUE3QztBQUE4QyxNQUFBLFlBQVksRUFBQztBQUEzRCxNQUhGLGVBSUUsNkJBQUMsZ0JBQUQ7QUFBVyxNQUFBLElBQUksRUFBQyxVQUFoQjtBQUEyQixNQUFBLFFBQVEsTUFBbkM7QUFBb0MsTUFBQSxJQUFJLEVBQUM7QUFBekMsT0FDRztBQUFBLFVBQUdHLEtBQUgsU0FBR0EsS0FBSDtBQUFBLDBCQUFlLDZCQUFDLDBCQUFELEVBQXlCQSxLQUF6QixDQUFmO0FBQUEsS0FESCxDQUpGLGVBT0UsNkJBQUMsZ0JBQUQ7QUFDRSxNQUFBLElBQUksRUFBQyxpQkFEUDtBQUVFLE1BQUEsSUFBSSxFQUFDLFVBRlA7QUFHRSxNQUFBLFFBQVEsRUFBRSxDQUFDQyxpQ0FBRCxFQUFvQiw4Q0FBeUJGLE1BQU0sQ0FBQ0csUUFBaEMsQ0FBcEI7QUFIWixPQUtHO0FBQUEsVUFBR0YsS0FBSCxTQUFHQSxLQUFIO0FBQUEsMEJBQWUsNkJBQUMsMEJBQUQsRUFBeUJBLEtBQXpCLENBQWY7QUFBQSxLQUxILENBUEYsZUFlRSw2QkFBQyxpQkFBRCxPQWZGLGVBZ0JFLDZCQUFDLG1CQUFEO0FBQWMsTUFBQSxNQUFNLEVBQUVGLE1BQU0sQ0FBQ0s7QUFBN0IsTUFoQkYsQ0FERDtBQUFBLEdBREgsQ0FERjtBQXdCRCxDQXpCTSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBTaWduVXBGb3JtUHJvdmlkZXIsIHJlcXVpcmVkVmFsaWRhdG9yLCBjb25maXJtUGFzc3dvcmRWYWxpZGF0b3IgfSBmcm9tICdAZGVpdHkvZmFsY29uLWZyb250LWtpdCc7XG5pbXBvcnQgeyBFcnJvclN1bW1hcnkgfSBmcm9tICcuLi9FcnJvcic7XG5pbXBvcnQgeyBGb3JtRmllbGQsIEZvcm0sIEZvcm1Qcm9wcywgRm9ybVN1Ym1pdCwgUGFzc3dvcmRSZXZlYWxJbnB1dCB9IGZyb20gJy4uL0Zvcm1zJztcblxuZXhwb3J0IHR5cGUgU2lnblVwRm9ybVByb3BzID0gUGFydGlhbDxGb3JtUHJvcHM+ICYge1xuICBvblN1Y2Nlc3M/OiBGdW5jdGlvbjtcbn07XG5cbmV4cG9ydCBjb25zdCBTaWduVXBGb3JtOiBSZWFjdC5GQzxTaWduVXBGb3JtUHJvcHM+ID0gKHsgb25TdWNjZXNzLCAuLi5mb3JtUHJvcHMgfSkgPT4ge1xuICByZXR1cm4gKFxuICAgIDxTaWduVXBGb3JtUHJvdmlkZXIgb25TdWNjZXNzPXtvblN1Y2Nlc3N9PlxuICAgICAgeyh7IHN0YXR1cywgdmFsdWVzIH0pID0+IChcbiAgICAgICAgPEZvcm0gaWQ9XCJzaWduLXVwXCIgaTE4bklkPVwic2lnblVwXCIgey4uLmZvcm1Qcm9wc30+XG4gICAgICAgICAgPEZvcm1GaWVsZCBuYW1lPVwiZmlyc3RuYW1lXCIgdHlwZT1cInRleHRcIiByZXF1aXJlZCBhdXRvQ29tcGxldGU9XCJnaXZlbi1uYW1lXCIgLz5cbiAgICAgICAgICA8Rm9ybUZpZWxkIG5hbWU9XCJsYXN0bmFtZVwiIHR5cGU9XCJ0ZXh0XCIgcmVxdWlyZWQgYXV0b0NvbXBsZXRlPVwiZmFtaWx5LW5hbWVcIiAvPlxuICAgICAgICAgIDxGb3JtRmllbGQgbmFtZT1cImVtYWlsXCIgdHlwZT1cImVtYWlsXCIgcmVxdWlyZWQgYXV0b0NvbXBsZXRlPVwiZW1haWxcIiAvPlxuICAgICAgICAgIDxGb3JtRmllbGQgbmFtZT1cInBhc3N3b3JkXCIgcmVxdWlyZWQgdHlwZT1cInBhc3N3b3JkXCI+XG4gICAgICAgICAgICB7KHsgZmllbGQgfSkgPT4gPFBhc3N3b3JkUmV2ZWFsSW5wdXQgey4uLmZpZWxkfSAvPn1cbiAgICAgICAgICA8L0Zvcm1GaWVsZD5cbiAgICAgICAgICA8Rm9ybUZpZWxkXG4gICAgICAgICAgICBuYW1lPVwiY29uZmlybVBhc3N3b3JkXCJcbiAgICAgICAgICAgIHR5cGU9XCJwYXNzd29yZFwiXG4gICAgICAgICAgICB2YWxpZGF0ZT17W3JlcXVpcmVkVmFsaWRhdG9yLCBjb25maXJtUGFzc3dvcmRWYWxpZGF0b3IodmFsdWVzLnBhc3N3b3JkKV19XG4gICAgICAgICAgPlxuICAgICAgICAgICAgeyh7IGZpZWxkIH0pID0+IDxQYXNzd29yZFJldmVhbElucHV0IHsuLi5maWVsZH0gLz59XG4gICAgICAgICAgPC9Gb3JtRmllbGQ+XG5cbiAgICAgICAgICA8Rm9ybVN1Ym1pdCAvPlxuICAgICAgICAgIDxFcnJvclN1bW1hcnkgZXJyb3JzPXtzdGF0dXMuZXJyb3J9IC8+XG4gICAgICAgIDwvRm9ybT5cbiAgICAgICl9XG4gICAgPC9TaWduVXBGb3JtUHJvdmlkZXI+XG4gICk7XG59O1xuIl19